define("apps/service-planner/app",["require","jquery","lodash","monster","toastr"],function(t){var n=t("jquery"),e=t("lodash"),a=t("monster"),l=t("toastr");return{css:["app"],i18n:{"en-US":{customCss:!1}},appFlags:{servicePlanner:{currentPlan:{}}},requests:{},subscribe:{},load:function(t){var n=this;n.initApp(function(){t&&t(n)})},initApp:function(t){var n=this;a.pub("auth.initApp",{app:n,callback:t})},render:function(t){var n=this;a.ui.generateAppLayout(n,{menus:[{tabs:[{text:n.i18n.active().servicePlanner.title,callback:n.servicePlannerRender}]}]})},servicePlannerRender:function(t){var e=this,l=t||{},i=l.container||n("#service_planner_app_container .app-content-wrapper");e.appFlags.servicePlanner.editedPlanData=void 0,e.servicePlannerListingGetData(function(t){var l=e.servicePlannerListingFormatData(t),r=n(a.template(e,"app")),s=n(a.template(e,"list-plans",l));r.append(s),e.servicePlannerListingBindEvents(r),i.fadeOut(function(){n(this).empty().append(r).fadeIn()})})},servicePlannerFormatPrice:function(t,n){var e=this,a="boolean"!=typeof n||n,l=parseFloat(t).toFixed(2);return a&&(l=e.i18n.active().currencyUsed+l),l},servicePlannerListingFormatData:function(t){var n={categories:{}};return e.each(t.servicePlans,function(t){n.categories[t.category]=n.categories[t.category]||{name:t.category,plans:[]},n.categories[t.category].plans.push(t)}),n},servicePlannerListingBindEvents:function(t){var e=this;t.find(".edit-plan").on("click",function(){var a=n(this).parents("tr").data("id");e.servicePlannerEditId(a,t)}),t.find(".copy-plan").on("click",function(){var a=n(this).parents("tr").data("id");e.servicePlannerEditId(a,t,!0)}),t.find(".add-plan").on("click",function(){e.servicePlannerAddPlan(t)}),t.find(".delete-plan").on("click",function(){var t=n(this).parents("tr"),i=t.data("id"),r=t.data("name");a.ui.confirm(a.template(e,"!"+e.i18n.active().servicePlanner.listing.confirmDelete,{name:r}),function(){e.servicePlannerDelete(i,function(){l.success(a.template(e,"!"+e.i18n.active().servicePlanner.listing.deleteSuccess,{name:r})),e.servicePlannerRender()})})}),a.ui.tooltips(t)},servicePlannerEditId:function(t,n,e){var a=this;a.servicePlannerGetPlanData(t,function(t){e&&(delete t.servicePlan.id,delete t.servicePlan.name),a.servicePlannerEdit(t,n)})},servicePlannerGetCompetitiveFields:function(){var t=this,n=[{friendlyName:t.i18n.active().servicePlanner.competitivePlan.keys.devices,category:"devices",key:"_all",markupType:"fixed_price"},{friendlyName:t.i18n.active().servicePlanner.competitivePlan.keys.users,category:"users",key:"_all",markupType:"fixed_price"},{friendlyName:t.i18n.active().servicePlanner.competitivePlan.keys.phoneNumbers,category:"phone_numbers",key:"_all",markupType:"fixed_price"},{friendlyName:t.i18n.active().servicePlanner.competitivePlan.keys.limits,category:"limits",key:"_all",markupType:"fixed_price"},{friendlyName:t.i18n.active().servicePlanner.competitivePlan.keys.perMinuteVoip,category:"ledgers",key:"per-minute-voip",markupType:"percentage"}],a={fields:[]};return e.each(n,function(n){n.friendlyName=n.friendlyName+" ("+("percentage"===n.markupType?"%":t.i18n.active().currencyUsed)+")",n.id=n.category+"."+n.key,a.fields.push(n)}),a},servicePlannerBuildCompetitivePlan:function(t){var l=this,i=l.servicePlannerGetCompetitiveFields(),r=n(a.template(l,"build-competitive-plan",i)),s={};e.each(i.fields,function(t){s[t.id]={number:!0,required:!0}}),a.ui.validate(r.find("#competitive_form"),{rules:s}),r.find(".next").on("click",function(){if(a.ui.valid(r.find("#competitive_form"))){var t=l.getPlanItemsFromCompetitiveTemplate(r);l.servicePlannerGetPlanData(void 0,function(e){var a=n.extend(!0,{},e);a.servicePlan={plan:t,manual_recurring:[]},l.servicePlannerEdit(a,r)})}}),r.find(".back").on("click",function(){l.servicePlannerAddPlan(t)}),t.fadeOut(function(){n(this).empty().append(r).fadeIn()})},getPlanItemsFromCompetitiveTemplate:function(t){var e={};return t.find("input").each(function(){var t=n(this),a=t.data("category"),l=t.data("key"),i=t.val();e[a]=e[a]||{},e[a][l]=e[a][l]||{},e[a][l].rate=i,"ledgers"===a&&(e[a][l].markup_type=t.data("markup_type"))}),e},servicePlannerAddPlan:function(t){var e=this,l=n(a.template(e,"add-plan"));e.servicePlannerAddBindEvents(l,t),t.fadeOut(function(){n(this).empty().append(l).fadeIn()})},servicePlannerAddBindEvents:function(t,e){var a=this;t.find(".choice-wrapper").on("click",function(){var l=n(this).data("type");"empty"===l?a.servicePlannerEditId(void 0,t):"current"===l?a.servicePlannerGetPlanData(void 0,function(e){var l=n.extend(!0,{},e);l.servicePlan={plan:a.appFlags.servicePlanner.currentPlan.items,manual_recurring:a.appFlags.servicePlanner.currentPlan.manual_recurring},a.servicePlannerEdit(l,t)}):"competitive"===l&&a.servicePlannerBuildCompetitivePlan(t,e)}),t.find(".go-back-to-listing").on("click",function(){a.servicePlannerRender()})},servicePlannerEdit:function(t,e){var l=this,i=l.servicePlannerFormatEditData(t),r=n(a.template(l,"edit-plan",i));l.appFlags.servicePlanner.editedPlanData=n.extend(!0,{},t),l.servicePlannerEditBindEvents(r,e),e.fadeOut(function(){n(this).empty().append(r).fadeIn()})},servicePlannerEditBindEvents:function(t,e){var i=this;t.find("#plan_category").on("change",function(){var e=n(this).val();t.find('[name="extra.additional_category"]').val(""),"_new"===e?t.find(".group-additional-category").hide().removeClass("hidden").slideDown():t.find(".group-additional-category").slideUp()}),t.find(".item-category-wrapper .add-new-item").on("click",function(){i.servicePlannerAddField(n(this),e)}),t.find(".item-category-wrapper .edit-field").on("click",function(){i.servicePlannerEditField(n(this),e)}),t.find(".item-category-wrapper .add-fee").on("click",function(){i.servicePlannerEditField(n(this),e,!0)}),t.find(".item-category-wrapper .delete-field").on("click",function(){i.servicePlannerDeleteField(n(this),e)}),t.find(".go-back-to-listing").on("click",function(){i.servicePlannerRender()}),t.find(".save-service-plan").on("click",function(){i.servicePlannerSaveUpdates(t),i.servicePlannerSave(t.data("id"),function(t){l.success(a.template(i,"!"+i.i18n.active().servicePlanner.editPlan.saveSuccess,{name:t.name})),i.servicePlannerRender()})}),a.ui.tooltips(t)},servicePlannerSaveUpdates:function(t){var n=this,e=t.find("#plan_category").val(),a=t.find("#extra_category").val();n.appFlags.servicePlanner.editedPlanData.servicePlan.name=t.find("#service_plan_name").val(),n.appFlags.servicePlanner.editedPlanData.servicePlan.category="_new"!==e?e:a},servicePlannerEditField:function(t,e,a){var l=this,i=function(t){e.fadeOut(function(){n(this).empty().append(t).fadeIn()})},r=t.parents(".item-category-wrapper").data("category");if(l.servicePlannerSaveUpdates(e),"manual_recurring"===r){var s=parseInt(t.parents("tr").data("key"));l.servicePlannerGetManualRecurringTemplate(s,e,function(t){i(t)},a)}else if("usage"===r){var c=t.parents("tr").data("key");l.servicePlannerGetUsageTemplate(c,e,function(t){i(t)},a)}else if("plan"===r){var c=t.parents("tr").data("key"),r=t.parents(".category-group").data("category");l.servicePlannerGetPlanItemTemplate(r,c,e,function(t){i(t)},a)}},servicePlannerAddField:function(t,e){var a=this,l=t.parents(".item-category-wrapper").data("category"),i=function(t){e.fadeOut(function(){n(this).empty().append(t).fadeIn()})};a.servicePlannerSaveUpdates(e),"manual_recurring"===l?a.servicePlannerGetManualRecurringTemplate(void 0,e,function(t){i(t)}):"usage"===l?a.servicePlannerGetUsageTemplate(void 0,e,function(t){i(t)}):"plan"===l&&a.servicePlannerGetPlanItemTemplate(void 0,void 0,e,function(t){i(t)})},servicePlannerDeleteField:function(t,n){var a=this,l=t.parents(".item-category-wrapper").data("category");if("manual_recurring"===l){var i=parseInt(t.parents("tr").data("key"));a.appFlags.servicePlanner.editedPlanData.servicePlan.manual_recurring.splice(i,1)}else if("usage"===l){var r=t.parents("tr").data("key");delete a.appFlags.servicePlanner.editedPlanData.servicePlan.plan.ledgers[r]}else if("plan"===l){var r=t.parents("tr").data("key"),l=t.parents(".category-group").data("category");delete a.appFlags.servicePlanner.editedPlanData.servicePlan.plan[l][r],e.isEmpty(a.appFlags.servicePlanner.editedPlanData.servicePlan.plan[l])&&delete a.appFlags.servicePlanner.editedPlanData.servicePlan.plan[l]}a.servicePlannerEdit(a.appFlags.servicePlanner.editedPlanData,n)},servicePlannerGetManualRecurringTemplate:function(t,e,l,i){var r,s=this,c=void 0!==i&&i,o=n.extend(!0,{},s.appFlags.servicePlanner.editedPlanData),u=n.extend(!0,{},s.appFlags.servicePlanner.currentPlan),d=c?void 0:t;"number"==typeof t&&(r=c?u.manual_recurring[t]:o.servicePlan.manual_recurring[t]);var p=n(a.template(s,"field-manual-recurring",r));s.servicePlannerBindManualRecurringTemplate(p,e,d,o),l&&l(p)},servicePlannerBindManualRecurringTemplate:function(t,n,e,l){var i=this,r="manual_recurring_field_form";a.ui.validate(t.find("#"+r),{rules:{quantity:{digits:!0,required:!0},rate:{number:!0,required:!0},name:{required:!0}}}),t.find(".cancel").on("click",function(){i.servicePlannerEdit(l,n)}),t.find(".save-manual-recurring-field").on("click",function(){var s=a.ui.getFormData(r);s.quantity=parseInt(s.quantity),s.rate=parseFloat(s.rate),a.ui.valid(t.find("#"+r))&&("number"==typeof e?l.servicePlan.manual_recurring[e]=s:(l.servicePlan.manual_recurring=l.servicePlan.manual_recurring||[],l.servicePlan.manual_recurring.push(s)),i.servicePlannerEdit(l,n))})},servicePlannerGetPlanItemTemplate:function(t,n,e,a,l){var i=this;i.servicePlannerListPlanItems(function(r){"string"==typeof n?i.servicePlannerGetPlanItemDetailsTemplate(t,n,e,a,l):i.servicePlannerPickPlanItem(r,e,a)})},servicePlannerPickPlanItem:function(t,l,i){var r=this,s=n.extend(!0,{},r.appFlags.servicePlanner.editedPlanData),c=s.servicePlan.plan,t=n.extend(!0,{},t),o={extra:{hasChoices:!1},choices:{}};e.each(t,function(t,n){e.each(t,function(t,e){c.hasOwnProperty(n)&&c[n].hasOwnProperty(e)||(o.choices[n]=o.choices[n]||{options:[],friendlyName:a.util.tryI18n(r.i18n.active().servicePlanner.keys,n)},t.friendlyName=a.util.tryI18n(r.i18n.active().servicePlanner.keys,e),t.key=e,o.choices[n].options.push(t))})}),e.each(o.choices,function(t){t.options.sort(function(t,n){return"_all"===t.key?-1:"_all"===n.key?1:t.friendlyName.toLowerCase()<n.friendlyName.toLowerCase()?-1:1})}),o.extra.hasChoices=!e.isEmpty(o.choices);var u=n(a.template(r,"field-plan-choices",o));u.find('[name="plan_category_choice"]').on("change",function(){var t=n(this).val();u.find(".sub-category-wrapper").hide(),u.find('.sub-category-wrapper[data-category="'+t+'"]').hide().removeClass("hidden").slideDown(),u.find(".next").addClass("disabled")}),u.find('[name="plan_key_choice"]').on("click",function(){u.find(".next").removeClass("disabled")}),u.find(".cancel").on("click",function(){r.servicePlannerEdit(s,l)}),u.find(".next").on("click",function(){if(!n(this).hasClass("disabled")){var t=u.find('[name="plan_category_choice"]:checked').val(),e=u.find('[name="plan_key_choice"]:checked').val();r.servicePlannerGetPlanItemDetailsTemplate(t,e,l,i)}}),i&&i(u)},servicePlannerGetPlanItemDetailsTemplate:function(t,e,l,i,r){var s=this;if(e){var c=n.extend(!0,{},s.appFlags.servicePlanner.editedPlanData),o=s.servicePlannerFormatEditPlanItem(t,e,r),u=n(a.template(s,"field-plan-details",o));s.servicePlannerPlanItemComputeRateMargins(u),s.servicePlannerBindPlanItemTemplate(u,l,t,e,c),i&&i(u)}else a.ui.alert(s.i18n.active().servicePlanner.editPlan.editField.usage.itemNotFound)},servicePlannerBindPlanItemTemplate:function(t,n,e,l,i){var r=this;a.ui.tooltips(t),r.servicePlannerBindRates(t),a.ui.validate(t.find("#plan_field_form"),{rules:{minimum:{digits:!0},activation_charge:{number:!0}}}),t.find(".cancel").on("click",function(){r.servicePlannerEdit(i,n)}),t.find(".save-plan-field").on("click",function(){if(a.ui.valid(t.find("#plan_field_form"))){var s=r.servicePlannerGetPlanItemFromTemplate(t,e,l);i.servicePlan.plan[e]=i.servicePlan.plan[e]||{},i.servicePlan.plan[e][l]=s,r.servicePlannerEdit(i,n)}})},servicePlannerGetPlanItemFromTemplate:function(t,e,l){var i=this,r=n.extend(!0,{},i.appFlags.servicePlanner.editedPlanData.servicePlan.plan),s=a.ui.getFormData("plan_field_form"),c={};if(r.hasOwnProperty(e)&&r[e].hasOwnProperty(l)&&(c=n.extend(!0,{},c,r[e][l]),delete c.rates),c.activation_charge=s.has_activation_charge?parseFloat(s.activation_charge):0,c.minimum=s.has_minimum?parseInt(s.minimum):0,c.cascade=s.cascade,c.exceptions=s.hasOwnProperty("exceptions")&&s.exceptions||[],c.as=s.hasOwnProperty("charge_as")&&"_none"!==s.charge_as?s.charge_as:"",t.find(".rate-container .rate-row").each(function(){var t=n(this),e=t.find(".customer-rate-cell input").val();if(0===t.find(".quantity-cell input").length)c.rate=parseFloat(e);else{c.rates=c.rates||{};var a=t.find(".quantity-cell input").val();a.length&&parseInt(a)>=0&&e&&parseFloat(e)>=0&&(c.rates[a]=parseFloat(e))}}),"ui_apps"===e&&a.appsStore.hasOwnProperty(l)){var o=a.appsStore[l].account_id,u="account%2F"+o.substring(0,2)+"%2F"+o.substr(2,2)+"%2F"+o.substr(4,o.length-4);c.app_id=a.appsStore[l].id,c.account_db=u}return c},servicePlannerPlanItemComputeRateMargins:function(t){var e=this,a=t.find(".rate-container .rate-table"),l=t.find(".rate-container .current-rate-table"),i={};l.find(".rate-row").each(function(){var t=n(this).data(),e=t.infinite?0:parseInt(t.quantity);i[e]=parseFloat(t.value)}),a.find(".rate-row").each(function(){var t=n(this),a=0===t.find(".quantity-cell input").length,l=a?0:parseInt(t.find(".quantity-cell input").val()),r=parseFloat(t.find(".customer-rate-cell input").val()),s=e.i18n.active().servicePlanner.editPlan.notApplicable;l>=0&&r>=0&&i.hasOwnProperty(l)&&(s=e.servicePlannerFormatPrice(r-i[l])),t.find(".margin-cell").text(s)})},servicePlannerUpdateActivationChargeMargin:function(t){var n=this,e=parseFloat(t.find(".your-rate-cell").data("value")),a=t.find(".margin-cell"),l=parseFloat(t.find(".customer-rate-cell input").val()),i=n.i18n.active().servicePlanner.editPlan.notApplicable;l&&l>=0&&(i=n.servicePlannerFormatPrice(l-e)),a.text(i)},servicePlannerPlanItemFormatRateRow:function(t,n){var e=this,a=void 0!==t?t:0;return""===n?{value:"n/a",formattedValue:e.i18n.active().servicePlanner.editPlan.notApplicable,margin:e.i18n.active().servicePlanner.editPlan.notApplicable,isInfinite:!1,quantity:"",hasAdd:!0,hasDelete:!0}:{value:a,formattedValue:e.servicePlannerFormatPrice(a),margin:e.i18n.active().servicePlanner.editPlan.notApplicable,isInfinite:0===n,quantity:0===n?"∞":n,hasAdd:!0,hasDelete:0!==n}},servicePlannerFormatEditPlanItem:function(t,l,i){var r=this,s=void 0!==i&&i,c=n.extend(!0,{},r.appFlags.servicePlanner.editedPlanData.servicePlan.plan),o=n.extend(!0,{},r.appFlags.servicePlanner.currentPlan.items),u=s?o:c,d={category:t,key:l,friendlyName:a.util.tryI18n(r.i18n.active().servicePlanner.keys,t)+" - "+a.util.tryI18n(r.i18n.active().servicePlanner.keys,l),rate:0,activation_charge:0,minimum:0,cascade:!1,extra:{activationCharge:{yourValue:0,yourFormattedValue:r.i18n.active().servicePlanner.editPlan.notApplicable,margin:r.i18n.active().servicePlanner.editPlan.notApplicable},rates:[],currentRates:[]}};if("_all"===l){d.exceptions=[],d.as="";var p=e.filter(e.map(r.appFlags.servicePlanner.planFields[t],function(t,n){if("_all"!==n)return n}),function(t){if(void 0!==t)return t});d.allOptions={},e.each(p,function(t){d.allOptions[t]=a.util.tryI18n(r.i18n.active().servicePlanner.keys,t)})}return u.hasOwnProperty(t)&&u[t].hasOwnProperty(l)&&(d=n.extend(!0,{},d,u[t][l])),o.hasOwnProperty(t)&&o[t].hasOwnProperty(l)&&(o[t][l].activation_charge&&(d.extra.activationCharge.yourValue=o[t][l].activation_charge,d.extra.activationCharge.yourFormattedValue=r.servicePlannerFormatPrice(o[t][l].activation_charge),0!==d.activation_charge&&(d.extra.activationCharge.margin=r.servicePlannerFormatPrice(d.activation_charge-d.extra.activationCharge.yourValue))),d.extra.currentRates.push(r.servicePlannerPlanItemFormatRateRow(o[t][l].rate,0)),o[t][l].hasOwnProperty("rates")&&e.each(o[t][l].rates,function(t,n){d.extra.currentRates.push(r.servicePlannerPlanItemFormatRateRow(t,n))})),d.extra.rates.push(r.servicePlannerPlanItemFormatRateRow(d.rate,0)),d.hasOwnProperty("rates")&&e.each(d.rates,function(t,n){d.extra.rates.push(r.servicePlannerPlanItemFormatRateRow(t,n))}),d},servicePlannerFormatPlanItem:function(t,l,i){var r=this,s=function(){var t=!1;if(r.appFlags.servicePlanner.currentPlan){var n=r.appFlags.servicePlanner.currentPlan.items;n.hasOwnProperty(l)&&n[l].hasOwnProperty(i)&&(t=n[l][i])}return t}(),c={name:t.name||a.util.tryI18n(r.i18n.active().servicePlanner.keys,i),quantity:r.i18n.active().servicePlanner.tables.all,yourRate:{value:"--",isCascade:!(!s||!s.hasOwnProperty("cascade"))&&s.cascade},customerRate:{value:"--",isCascade:!!t.hasOwnProperty("cascade")&&t.cascade},margin:r.i18n.active().servicePlanner.tables.noMargin,other:function(t){var n="";return t.minimum&&t.minimum>0&&(n+=r.i18n.active().servicePlanner.tables.minimum+": "+t.minimum),n}(t),hasActions:!0,isActivationCharges:!1},o=[],u=function(t){o.length>0&&(t.isActivationCharges||(t.name=""),t.hasActions=!1,t.other=""),o.push(t)};if(t.hasOwnProperty("rate")){var d=n.extend(!0,{},c),p=s&&s.hasOwnProperty("rate");d.yourRate.value=p?r.servicePlannerFormatPrice(s.rate):"--",d.customerRate.value=r.servicePlannerFormatPrice(t.rate),t.hasOwnProperty("rates")&&(d.quantity="0 - ∞"),p&&(d.margin=r.servicePlannerFormatPrice(t.rate-s.rate)),u(d)}if(t.hasOwnProperty("rates")&&e.each(t.rates,function(t,e){var a=n.extend(!0,{},c);a.quantity="0 - "+e,a.customerRate.value=r.servicePlannerFormatPrice(t),s.hasOwnProperty("rates")&&s.rates.hasOwnProperty(e)&&(a.yourRate.value=r.servicePlannerFormatPrice(s.rates[e]),a.margin=r.servicePlannerFormatPrice(t-s.rates[e])),u(a)}),t.hasOwnProperty("activation_charge")&&t.activation_charge>0){var d=n.extend(!0,{},c),m=s&&s.hasOwnProperty("activation_charge");d.isActivationCharges=!0,d.name+=" - "+r.i18n.active().servicePlanner.tables.activationCharge,d.customerRate.value=r.servicePlannerFormatPrice(t.activation_charge),m&&(d.yourRate.value=r.servicePlannerFormatPrice(s.activation_charge),d.margin=r.servicePlannerFormatPrice(t.activation_charge-s.activation_charge)),u(d)}if(0===o.length){var d=n.extend(!0,{},c);u(d)}return o},servicePlannerBindRates:function(t){var e=this;t.find(".plan-item-details-wrapper").on("keyup",".trigger-rate-margin",function(){e.servicePlannerPlanItemComputeRateMargins(t)}),t.find(".plan-item-details-wrapper").on("keyup",".trigger-activation-charge-margin",function(){e.servicePlannerUpdateActivationChargeMargin(n(this).parents("tr.rate-row"))}),t.find(".rate-container").on("click",".delete-rate-row",function(){n(this).parents(".rate-row").remove()}),t.find(".rate-container").on("click",".add-rate-row",function(){var t=e.servicePlannerPlanItemFormatRateRow(0,""),l=a.template(e,"field-plan-rate-row",t);n(this).parents(".rate-table tbody").append(l)}),t.find(".require-checkbox").on("click",function(){var e=n(this),a=e.data("type");e.is(":checked")?t.find('[data-parent="'+a+'"]').hide().removeClass("hidden").slideDown():t.find('[data-parent="'+a+'"]').slideUp()})},servicePlannerGetUsageTemplate:function(t,n,a,l){var i=this;i.servicePlannerListUsageItems(function(r){if("string"==typeof t){var s=e.find(r,function(n){return n.name===t});i.servicePlannerGetUsageDetailsTemplate(s,n,a,l)}else i.servicePlannerPickUsageItem(r,n,a)})},servicePlannerPickUsageItem:function(t,l,i){var r=this,s=n.extend(!0,{},r.appFlags.servicePlanner.editedPlanData),c=s.servicePlan.plan.ledgers,o={choices:e.filter(t,function(t){return!c||!c.hasOwnProperty(t.name)})},u=n(a.template(r,"field-usage-choices",o));u.find(".cancel").on("click",function(){r.servicePlannerEdit(s,l)}),u.find(".next").on("click",function(){var n=u.find('[type="radio"]:checked').val(),a=e.find(t,function(t){return t.name===n});r.servicePlannerGetUsageDetailsTemplate(a,l,i)}),i&&i(u)},servicePlannerGetUsageDetailsTemplate:function(t,e,l,i){var r=this;if(t){var s=n.extend(!0,{},r.appFlags.servicePlanner.editedPlanData),c=r.servicePlannerFormatEditUsageItem(t,i),o=n(a.template(r,"field-usage-details",c));r.servicePlannerBindUsageTemplate(o,e,c.name,s),l&&l(o)}else a.ui.alert(r.i18n.active().servicePlanner.editPlan.editField.usage.itemNotFound)},servicePlannerFormatEditUsageItem:function(t,e){var a=this,l=void 0!==e&&e,i=n.extend(!0,{},a.appFlags.servicePlanner.editedPlanData.servicePlan.plan),r=n.extend(!0,{},a.appFlags.servicePlanner.currentPlan.items),s=l?r:i,c=s.hasOwnProperty("ledgers")&&s.ledgers.hasOwnProperty(t.name)?s.ledgers[t.name]:{markup_type:"percentage",rate:0},o=a.servicePlannerFormatEditPlanItem("ledgers",t.name,l);return o=n.extend(!0,o,{name:t.name,friendlyName:t.friendly_name,markupType:c.markup_type||"rate",rate:c.rate,extra:{markup_types:t.markup_type,isMarkupTypeDisabled:t.markup_type.length<=1}})},servicePlannerBindUsageTemplate:function(t,e,l,i){var r=this,s="usage_field_form";r.servicePlannerBindRates(t),r.servicePlannerPlanItemComputeRateMargins(t),a.ui.validate(t.find("#"+s),{rules:{rate:{number:!0,required:!0}}}),a.ui.validate(t.find("#plan_field_form"),{rules:{minimum:{digits:!0}}}),t.find('[name="markup_type"]').on("change",function(){var e=n(this).val();t.find(".markup-group").hide(),"rate"===e?t.find('.markup-group[data-type="rate"]').hide().removeClass("hidden").slideDown():(t.find('.markup-group[data-type="standard"] label').addClass("hidden"),t.find('.markup-group[data-type="standard"] label[data-type="'+e+'"]').removeClass("hidden"),t.find('.markup-group[data-type="standard"]').hide().removeClass("hidden").slideDown())}),t.find(".cancel").on("click",function(){r.servicePlannerEdit(i,e)}),t.find(".save-usage-field").on("click",function(){var c=a.ui.getFormData(s),o={name:t.find(".usage-item-name").text(),markup_type:c.markup_type,rate:parseFloat(c.rate)};"rate"===c.markup_type&&(o=n.extend(o,r.servicePlannerGetPlanItemFromTemplate(t,"ledgers",l))),a.ui.valid(t.find("#plan_field_form"))&&a.ui.valid(t.find("#"+s))&&(i.servicePlan.plan.ledgers=i.servicePlan.plan.ledgers||{},i.servicePlan.plan.ledgers[l]=o,r.servicePlannerEdit(i,e))})},servicePlannerFormatEditData:function(t){var n=this,a={data:t.servicePlan,items:{plan:{},usage:{rates:{},markup:{}}},unusedItems:{},extra:{hasUnusedItems:!1,hasRateUsageItems:!1,hasMarkupUsageItems:!1,hasUsageItems:!1,categories:e.uniq(e.map(t.otherPlans,function(t){return t.category}))}};return a.extra.hasNewCategory=!!(a.data.hasOwnProperty("category")&&a.extra.categories.indexOf(a.data.category)<0),a.extra.selectCategory=0===a.extra.categories.length||a.extra.hasNewCategory?"_new":a.data.category,e.each(t.servicePlan.plan,function(l,i){"ledgers"===i?e.each(t.servicePlan.plan.ledgers,function(t,e){var l=n.servicePlannerFormatUsageItem(t,i,e),r=t.hasOwnProperty("markup_type")&&"rate"!==t.markup_type?"markup":"rates";a.items.usage[r][e]=a.items.usage[r][e]||[],a.items.usage[r][e]=a.items.usage[r][e].concat(l)}):(a.items.plan[i]={},e.each(l,function(t,e){a.items.plan[i][e]=[];var l=n.servicePlannerFormatPlanItem(t,i,e);a.items.plan[i][e]=a.items.plan[i][e].concat(l)}))}),t.servicePlan.hasOwnProperty("manual_recurring")&&e.each(t.servicePlan.manual_recurring,function(t){a.items.manual_recurring=a.items.manual_recurring||[];var e=n.servicePlannerFormatManualRecurringItem(t);a.items.manual_recurring.push(e)}),e.each(n.appFlags.servicePlanner.currentPlan.items,function(t,l){e.each(t,function(t,e){"ledgers"===l?a.items.hasOwnProperty("usage")&&(a.items.usage.rates.hasOwnProperty(e)||a.items.usage.markup.hasOwnProperty(e))||(a.unusedItems.usage=a.unusedItems.usage||{},a.unusedItems.usage[l]=a.unusedItems.usage[l]||{},a.unusedItems.usage[l][e]=n.servicePlannerFormatUnusedItem(t)):a.items.plan.hasOwnProperty(l)&&a.items.plan[l].hasOwnProperty(e)||(a.unusedItems.plan=a.unusedItems.plan||{},a.unusedItems.plan[l]=a.unusedItems.plan[l]||{},a.unusedItems.plan[l][e]=n.servicePlannerFormatUnusedItem(t))})}),e.each(n.appFlags.servicePlanner.currentPlan.manual_recurring,function(t,l){0===e.filter(a.items.manual_recurring,function(n){if(n.name===t.name)return!0}).length&&(a.unusedItems.manual_recurring=a.unusedItems.manual_recurring||[],a.unusedItems.manual_recurring.push(n.servicePlannerFormatUnusedItem(t,l)))}),e.isEmpty(a.unusedItems)||(a.extra.hasUnusedItems=!0),a.extra.hasRateUsageItems=!e.isEmpty(a.items.usage.rates),a.extra.hasMarkupUsageItems=!e.isEmpty(a.items.usage.markup),a.extra.hasUsageItems=a.extra.hasRateUsageItems||a.extra.hasMarkupUsageItems,a},servicePlannerFormatUnusedItem:function(t,e){var l=this,i=n.extend(!0,{},t);return i.formatted={},i.formatted.rate=function(t){var n="";return t.rate&&t.rate>0?(n=t.hasOwnProperty("markup_type")&&"percentage"===t.markup_type?t.rate+"%":l.servicePlannerFormatPrice(t.rate),t.hasOwnProperty("markup_type")&&(n+=" - "+a.util.tryI18n(l.i18n.active().servicePlanner.keys,"markup_"+t.markup_type))):n="--",n}(t),i.formatted.activation_charge=t.activation_charge&&t.activation_charge>0?l.servicePlannerFormatPrice(t.activation_charge):"--",void 0!==e&&(i.formatted.indexToUse=e),i},servicePlannerFormatManualRecurringItem:function(t){var e=this,a=n.extend(!0,{},t);return a.formatted={},a.formatted.rate=e.servicePlannerFormatPrice(t.rate),a},servicePlannerFormatUsageItem:function(t,e,a){var l=this,i=n.extend(!0,{},t),r=[];return t.hasOwnProperty("markup_type")&&"rate"!==t.markup_type?(i.formatted={},i.formatted.rate="percentage"===(t.markup_type||"")?t.rate+"%":l.servicePlannerFormatPrice(t.rate),r=[i]):r=l.servicePlannerFormatPlanItem(i,e,a),r},servicePlannerListingGetData:function(t){var n=this;a.parallel({servicePlans:function(t){n.servicePlannerListPlans(function(n){t&&t(null,n)})},currentPlan:function(t){n.servicePlannerGetCurrentPlan(function(e){n.appFlags.servicePlanner.currentPlan=e,t&&t(null,e)})}},function(n,e){t(e)})},servicePlannerGetPlanData:function(t,n){var e=this;a.parallel({servicePlan:function(n){t?e.servicePlannerGet(t,function(t){n(null,t)}):n(null,{plan:{ledgers:{}},manual_recurring:[]})},otherPlans:function(t){e.servicePlannerListPlans(function(n){t(null,n)})}},function(t,e){n&&n(e)})},servicePlannerSave:function(t,n){var e=this;t?e.servicePlannerUpdate(e.appFlags.servicePlanner.editedPlanData.servicePlan,n):e.servicePlannerAdd(e.appFlags.servicePlanner.editedPlanData.servicePlan,n)},servicePlannerListPlanItems:function(t){var n=this;n.appFlags.servicePlanner.hasOwnProperty("planFields")?t&&t(n.appFlags.servicePlanner.planFields):n.callApi({resource:"servicePlanner.getFields",data:{accountId:n.accountId},success:function(e){n.appFlags.servicePlanner.planFields=e.data,t&&t(e.data)}})},servicePlannerListUsageItems:function(t){var n=this;n.callApi({resource:"ledgers.listAvailable",data:{accountId:n.accountId},success:function(n){t&&t(n.data)}})},servicePlannerAdd:function(t,n){var e=this;e.callApi({resource:"servicePlanner.create",data:{accountId:e.accountId,data:t},success:function(t){n&&n(t.data)}})},servicePlannerUpdate:function(t,n){var e=this;e.callApi({resource:"servicePlanner.update",data:{accountId:e.accountId,planId:t.id,data:t},success:function(t){n&&n(t.data)}})},servicePlannerGet:function(t,n){var e=this;e.callApi({resource:"servicePlanner.get",data:{accountId:e.accountId,planId:t},success:function(t){n&&n(t.data)}})},servicePlannerDelete:function(t,n){var e=this;e.callApi({resource:"servicePlanner.delete",data:{accountId:e.accountId,planId:t},success:function(t){n&&n(t.data)}})},servicePlannerListPlans:function(t){var n=this;n.callApi({resource:"servicePlanner.list",data:{accountId:n.accountId},success:function(n){t&&t(n.data)}})},servicePlannerGetCurrentPlan:function(t){var n=this;n.callApi({resource:"servicePlan.listCurrent",data:{accountId:n.accountId},success:function(n){t&&t(n.data)}})}}}),this.monster=this.monster||{},this.monster.cache=this.monster.cache||{},this.monster.cache.templates=this.monster.cache.templates||{},this.monster.cache.templates["service-planner"]=this.monster.cache.templates["service-planner"]||{},this.monster.cache.templates["service-planner"]._main=this.monster.cache.templates["service-planner"]._main||{},this.monster.cache.templates["service-planner"]._main["add-plan"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'<div class="add-plan-container">\n\t<div class="section-header add-plan-header clearfix">\n\t\t<div class="section-title add-plan-title">'+s(r(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.addPlan:i)?i.title:i,n))+'</div>\n\t</div>\n\n\t<div class="choices-container clearfix">\n\t\t<div class="choice-wrapper" data-type="empty">\n\t\t\t<div class="choice-title">'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.addPlan:i)?i.emptyChoice:i)?i.title:i,n))+'</div>\n\t\t\t<div class="choice-description">'+(null!=(i=r(null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.addPlan:i)?i.emptyChoice:i)?i.description:i,n))?i:"")+'</div>\n\t\t</div>\n\n\t\t<div class="choice-wrapper" data-type="competitive">\n\t\t\t<div class="choice-title">'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.addPlan:i)?i.competitiveChoice:i)?i.title:i,n))+'</div>\n\t\t\t<div class="choice-description">'+(null!=(i=r(null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.addPlan:i)?i.competitiveChoice:i)?i.description:i,n))?i:"")+'</div>\n\t\t</div>\n\n\t\t<div class="choice-wrapper" data-type="current">\n\t\t\t<div class="choice-title">'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.addPlan:i)?i.currentChoice:i)?i.title:i,n))+'</div>\n\t\t\t<div class="choice-description">'+(null!=(i=r(null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.addPlan:i)?i.currentChoice:i)?i.description:i,n))?i:"")+'</div>\n\t\t</div>\n\t</div>\n\n\t<div class="buttons-actions">\n\t\t<button class="monster-button-secondary go-back-to-listing">'+s(r(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.cancel:i,n))+"</button>\n\t</div>\n</div>\n\n"},useData:!0}),this.monster.cache.templates["service-planner"]._main.app=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){return'<div class="service-planner-container">\n\n</div>'},useData:!0}),this.monster.cache.templates["service-planner"]._main["build-competitive-plan"]=Handlebars.template({1:function(t,n,e,a,l){var i,r=null!=n?n:t.nullContext||{},s=e.helperMissing,c="function",o=t.escapeExpression;return'\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label">'+o((i=null!=(i=e.friendlyName||(null!=n?n.friendlyName:n))?i:s,typeof i===c?i.call(r,{name:"friendlyName",hash:{},data:l}):i))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" name="'+o((i=null!=(i=e.id||(null!=n?n.id:n))?i:s,typeof i===c?i.call(r,{name:"id",hash:{},data:l}):i))+'" data-category="'+o((i=null!=(i=e.category||(null!=n?n.category:n))?i:s,typeof i===c?i.call(r,{name:"category",hash:{},data:l}):i))+'" data-key="'+o((i=null!=(i=e.key||(null!=n?n.key:n))?i:s,typeof i===c?i.call(r,{name:"key",hash:{},data:l}):i))+'" data-markup_type="'+o((i=null!=(i=e.markupType||(null!=n?n.markupType:n))?i:s,typeof i===c?i.call(r,{name:"markupType",hash:{},data:l}):i))+'" class="input-mini">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n'},compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression
;return'<div class="competitive-plan-container">\n\t<div class="section-header competitive-plan-header clearfix">\n\t\t<div class="section-title competitive-plan-title">'+s(r(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.competitivePlan:i)?i.title:i,n))+'</div>\n\t</div>\n\n\t<div class="competitive-field-container clearfix">\n\t\t<form class="form-horizontal" id="competitive_form">\n'+(null!=(i=e.each.call(null!=n?n:t.nullContext||{},null!=n?n.fields:n,{name:"each",hash:{},fn:t.program(1,l,0),inverse:t.noop,data:l}))?i:"")+'\t\t</form>\n\t</div>\n\n\t<div class="buttons-actions">\n\t\t<button class="monster-button-secondary back">'+s(r(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.competitivePlan:i)?i.back:i,n))+'</button>\n\t\t<button class="monster-button-primary next">'+s(r(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.competitivePlan:i)?i.next:i,n))+"</button>\n\t</div>\n</div>\n\n"},useData:!0}),this.monster.cache.templates["service-planner"]._main["edit-plan"]=Handlebars.template({1:function(t,n,e,a,l){var i;return(null!=(i=e.each.call(null!=n?n:t.nullContext||{},null!=(i=null!=n?n.extra:n)?i.categories:i,{name:"each",hash:{},fn:t.program(2,l,0),inverse:t.noop,data:l}))?i:"")+'\t\t\t\t\t\t\t\t<option value="_new">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.newCategory:i,n))+"</option>\n"},2:function(t,n,e,a,l){var i=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t\t\t\t\t<option value="'+r(i(n,n))+'">'+r(i(n,n))+"</option>\n"},4:function(t,n,e,a,l){return" hidden"},6:function(t,n,e,a,l,i,r){var s,c=null!=n?n:t.nullContext||{};return(null!=(s=e.if.call(c,null!=(s=null!=n?n.extra:n)?s.hasMarkupUsageItems:s,{name:"if",hash:{},fn:t.program(7,l,0,i,r),inverse:t.noop,data:l}))?s:"")+(null!=(s=e.if.call(c,null!=(s=null!=n?n.extra:n)?s.hasRateUsageItems:s,{name:"if",hash:{},fn:t.program(11,l,0,i,r),inverse:t.noop,data:l}))?s:"")},7:function(t,n,e,a,l,i,r){var s,c=t.lambda,o=t.escapeExpression;return'\t\t\t\t\t<div class="category-group">\n\t\t\t\t\t\t<table class="category-plans monster-table-skinny monster-table no-th">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th class="key-cell">'+o(c((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.usage,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="quantity-cell">'+o(c((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.markup,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="actions-cell">'+o(c((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.actions,n))+"</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n"+(null!=(s=e.each.call(null!=n?n:t.nullContext||{},null!=(s=null!=(s=null!=n?n.items:n)?s.usage:s)?s.markup:s,{name:"each",hash:{},fn:t.program(8,l,0,i,r),inverse:t.noop,data:l}))?s:"")+"\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n"},8:function(t,n,e,a,l,i,r){var s;return null!=(s=e.each.call(null!=n?n:t.nullContext||{},n,{name:"each",hash:{},fn:t.program(9,l,0,i,r),inverse:t.noop,data:l}))?s:""},9:function(t,n,e,a,l,i,r){var s,c=t.lambda,o=t.escapeExpression;return'\t\t\t\t\t\t\t\t\t\t<tr data-key="'+o(c(t.data(l,1)&&t.data(l,1).key,n))+'">\n\t\t\t\t\t\t\t\t\t\t\t<td class="key-cell">'+o((e.tryI18n||n&&n.tryI18n||e.helperMissing).call(null!=n?n:t.nullContext||{},(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.keys,t.data(l,1)&&t.data(l,1).key,{name:"tryI18n",hash:{},data:l}))+'</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="markup-cell">'+o(c(null!=(s=null!=n?n.formatted:n)?s.rate:s,n))+'</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="actions-cell">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-edit edit-field" data-toggle="tooltip" data-placement="top" data-original-title="'+o(c((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.actions)&&s.edit,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash delete-field" data-toggle="tooltip" data-placement="top" data-original-title="'+o(c((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.actions)&&s.delete,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n'},11:function(t,n,e,a,l,i,r){var s,c,o=null!=n?n:t.nullContext||{},u=t.escapeExpression,d=t.lambda;return'\t\t\t\t\t<div class="category-group" data-category="'+u((c=null!=(c=e.key||l&&l.key)?c:e.helperMissing,"function"==typeof c?c.call(o,{name:"key",hash:{},data:l}):c))+'">\n\t\t\t\t\t\t<table class="category-plans monster-table-skinny monster-table no-th">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th class="key-cell">'+u(d((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.usage,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="quantity-cell">'+u(d((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.quantity,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="your-rate-cell">'+u(d((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.yourRate,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="customer-rate-cell">'+u(d((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.customerRate,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="margin-cell">'+u(d((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.margin,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="other-cell">'+u(d((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.other,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="actions-cell">'+u(d((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.actions,n))+"</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n"+(null!=(s=e.each.call(o,null!=(s=null!=(s=null!=n?n.items:n)?s.usage:s)?s.rates:s,{name:"each",hash:{},fn:t.program(12,l,0,i,r),inverse:t.noop,data:l}))?s:"")+"\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n"},12:function(t,n,e,a,l,i,r){var s;return null!=(s=e.each.call(null!=n?n:t.nullContext||{},n,{name:"each",hash:{},fn:t.program(13,l,0,i,r),inverse:t.noop,data:l}))?s:""},13:function(t,n,e,a,l,i,r){var s,c,o=t.lambda,u=t.escapeExpression,d=null!=n?n:t.nullContext||{},p=e.helperMissing;return'\t\t\t\t\t\t\t\t\t\t<tr data-key="'+u(o(t.data(l,1)&&t.data(l,1).key,n))+'">\n\t\t\t\t\t\t\t\t\t\t\t<td class="key-cell">'+u((c=null!=(c=e.name||(null!=n?n.name:n))?c:p,"function"==typeof c?c.call(d,{name:"name",hash:{},data:l}):c))+'</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="quantity-cell">'+u((c=null!=(c=e.quantity||(null!=n?n.quantity:n))?c:p,"function"==typeof c?c.call(d,{name:"quantity",hash:{},data:l}):c))+'</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="your-rate-cell">'+u(o(null!=(s=null!=n?n.yourRate:n)?s.value:s,n))+" "+(null!=(s=e.if.call(d,null!=(s=null!=n?n.yourRate:n)?s.isCascade:s,{name:"if",hash:{},fn:t.program(14,l,0,i,r),inverse:t.noop,data:l}))?s:"")+'</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="customer-rate-cell">'+u(o(null!=(s=null!=n?n.customerRate:n)?s.value:s,n))+" "+(null!=(s=e.if.call(d,null!=(s=null!=n?n.customerRate:n)?s.isCascade:s,{name:"if",hash:{},fn:t.program(14,l,0,i,r),inverse:t.noop,data:l}))?s:"")+'</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="margin-cell">'+u((c=null!=(c=e.margin||(null!=n?n.margin:n))?c:p,"function"==typeof c?c.call(d,{name:"margin",hash:{},data:l}):c))+'</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="other-cell">'+u((c=null!=(c=e.other||(null!=n?n.other:n))?c:p,"function"==typeof c?c.call(d,{name:"other",hash:{},data:l}):c))+'</td>\n\t\t\t\t\t\t\t\t\t\t\t<td class="actions-cell">\n'+(null!=(s=e.if.call(d,null!=n?n.hasActions:n,{name:"if",hash:{},fn:t.program(16,l,0,i,r),inverse:t.noop,data:l}))?s:"")+"\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n"},14:function(t,n,e,a,l){var i;return'<i class="cascade-icon icon-telicon-account-jump" data-toggle="tooltip" data-placement="top" data-original-title="'+t.escapeExpression(t.lambda((i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.tables)&&i.cascadeTooltip,n))+'"></i>'},16:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-edit edit-field" data-toggle="tooltip" data-placement="top" data-original-title="'+s(r((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.actions)&&i.edit,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash delete-field" data-toggle="tooltip" data-placement="top" data-original-title="'+s(r((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.actions)&&i.delete,n))+'"></i>\n'},18:function(t,n,e,a,l){var i;return'\t\t\t\t<div class="empty-category">\n\t\t\t\t\t'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.emptyCategory:i,n))+"\n\t\t\t\t</div>\n"},20:function(t,n,e,a,l,i,r){var s,c,o=null!=n?n:t.nullContext||{},u=e.helperMissing,d=t.escapeExpression,p=t.lambda;return'\t\t\t\t<div class="category-group" data-category="'+d((c=null!=(c=e.key||l&&l.key)?c:u,"function"==typeof c?c.call(o,{name:"key",hash:{},data:l}):c))+'">\n\t\t\t\t\t<table class="category-plans monster-table-skinny monster-table no-th">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th class="key-cell">'+d((e.tryI18n||n&&n.tryI18n||u).call(o,(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.keys,l&&l.key,{name:"tryI18n",hash:{},data:l}))+'</th>\n\t\t\t\t\t\t\t\t<th class="quantity-cell">'+d(p((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.quantity,n))+'</th>\n\t\t\t\t\t\t\t\t<th class="your-rate-cell">'+d(p((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.yourRate,n))+'</th>\n\t\t\t\t\t\t\t\t<th class="customer-rate-cell">'+d(p((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.customerRate,n))+'</th>\n\t\t\t\t\t\t\t\t<th class="margin-cell">'+d(p((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.margin,n))+'</th>\n\t\t\t\t\t\t\t\t<th class="other-cell">'+d(p((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.other,n))+'</th>\n\t\t\t\t\t\t\t\t<th class="actions-cell">'+d(p((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.columns)&&s.actions,n))+"</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n"+(null!=(s=e.each.call(o,n,{name:"each",hash:{},fn:t.program(21,l,0,i,r),inverse:t.noop,data:l}))?s:"")+"\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n"},21:function(t,n,e,a,l,i,r){var s;return null!=(s=e.each.call(null!=n?n:t.nullContext||{},n,{name:"each",hash:{},fn:t.program(22,l,0,i,r),inverse:t.noop,data:l}))?s:""},22:function(t,n,e,a,l,i,r){var s,c,o=t.lambda,u=t.escapeExpression,d=null!=n?n:t.nullContext||{},p=e.helperMissing;return'\t\t\t\t\t\t\t\t<tr data-key="'+u(o(t.data(l,1)&&t.data(l,1).key,n))+'">\n\t\t\t\t\t\t\t\t\t<td class="key-cell">'+u((c=null!=(c=e.name||(null!=n?n.name:n))?c:p,"function"==typeof c?c.call(d,{name:"name",hash:{},data:l}):c))+'</td>\n\t\t\t\t\t\t\t\t\t<td class="quantity-cell">'+u((c=null!=(c=e.quantity||(null!=n?n.quantity:n))?c:p,"function"==typeof c?c.call(d,{name:"quantity",hash:{},data:l}):c))+'</td>\n\t\t\t\t\t\t\t\t\t<td class="your-rate-cell">'+u(o(null!=(s=null!=n?n.yourRate:n)?s.value:s,n))+" "+(null!=(s=e.if.call(d,null!=(s=null!=n?n.yourRate:n)?s.isCascade:s,{name:"if",hash:{},fn:t.program(14,l,0,i,r),inverse:t.noop,data:l}))?s:"")+'</td>\n\t\t\t\t\t\t\t\t\t<td class="customer-rate-cell">'+u(o(null!=(s=null!=n?n.customerRate:n)?s.value:s,n))+" "+(null!=(s=e.if.call(d,null!=(s=null!=n?n.customerRate:n)?s.isCascade:s,{name:"if",hash:{},fn:t.program(14,l,0,i,r),inverse:t.noop,data:l}))?s:"")+'</td>\n\t\t\t\t\t\t\t\t\t<td class="margin-cell">'+u((c=null!=(c=e.margin||(null!=n?n.margin:n))?c:p,"function"==typeof c?c.call(d,{name:"margin",hash:{},data:l}):c))+'</td>\n\t\t\t\t\t\t\t\t\t<td class="other-cell">'+u((c=null!=(c=e.other||(null!=n?n.other:n))?c:p,"function"==typeof c?c.call(d,{name:"other",hash:{},data:l}):c))+'</td>\n\t\t\t\t\t\t\t\t\t<td class="actions-cell">\n'+(null!=(s=e.if.call(d,null!=n?n.hasActions:n,{name:"if",hash:{},fn:t.program(23,l,0,i,r),inverse:t.noop,data:l}))?s:"")+"\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n"},23:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-edit edit-field" data-toggle="tooltip" data-placement="top" data-original-title="'+s(r((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.actions)&&i.edit,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash delete-field" data-toggle="tooltip" data-placement="top" data-original-title="'+s(r((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.actions)&&i.delete,n))+'"></i>\n'},25:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'\t\t\t\t<div class="category-group">\n\t\t\t\t\t<table class="category-plans monster-table-skinny monster-table no-th">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th class="key-cell">'+s(r((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.manualRecurring,n))+'</th>\n\t\t\t\t\t\t\t\t<th class="quantity-cell">'+s(r((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.quantity,n))+'</th>\n\t\t\t\t\t\t\t\t<th class="your-rate-cell">'+s(r((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.customerRate,n))+'</th>\n\t\t\t\t\t\t\t\t<th class="actions-cell">'+s(r((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.actions,n))+"</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n"+(null!=(i=e.each.call(null!=n?n:t.nullContext||{},null!=(i=null!=n?n.items:n)?i.manual_recurring:i,{name:"each",hash:{},fn:t.program(26,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n"},26:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{},c=e.helperMissing,o=t.escapeExpression,u=t.lambda;return'\t\t\t\t\t\t\t\t<tr data-key="'+o((r=null!=(r=e.index||l&&l.index)?r:c,"function"==typeof r?r.call(s,{name:"index",hash:{},data:l}):r))+'">\n\t\t\t\t\t\t\t\t\t<td class="key-cell">'+o((r=null!=(r=e.name||(null!=n?n.name:n))?r:c,"function"==typeof r?r.call(s,{name:"name",hash:{},data:l}):r))+'</td>\n\t\t\t\t\t\t\t\t\t<td class="quantity-cell">'+o((r=null!=(r=e.quantity||(null!=n?n.quantity:n))?r:c,"function"==typeof r?r.call(s,{name:"quantity",hash:{},data:l}):r))+'</td>\n\t\t\t\t\t\t\t\t\t<td class="customer-rate-cell">'+o(u(null!=(i=null!=n?n.formatted:n)?i.rate:i,n))+'</td>\n\t\t\t\t\t\t\t\t\t<td class="actions-cell">\n\t\t\t\t\t\t\t\t\t\t<i class="fa fa-edit edit-field" data-toggle="tooltip" data-placement="top" data-original-title="'+o(u((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.actions)&&i.edit,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash delete-field" data-toggle="tooltip" data-placement="top" data-original-title="'+o(u((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.actions)&&i.delete,n))+'"></i>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n'},28:function(t,n,e,a,l,i,r){var s;return'\t\t<div class="edit-plan-unused-items plan-items-table">\n\t\t\t<div class="unused-items-title">\n\t\t\t\t<span class="title-text">'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.unusedItems:s)?s.title:s,n))+"</span>\n\t\t\t</div>\n"+(null!=(s=e.each.call(null!=n?n:t.nullContext||{},null!=n?n.unusedItems:n,{name:"each",hash:{},fn:t.program(29,l,0,i,r),inverse:t.program(40,l,0,i,r),data:l}))?s:"")+"\t\t</div>\n"},29:function(t,n,e,a,l,i,r){var s,c,o=null!=n?n:t.nullContext||{},u=e.helperMissing,d=t.escapeExpression;return'\t\t\t\t<div class="item-category-wrapper" data-category="'+d((c=null!=(c=e.key||l&&l.key)?c:u,"function"==typeof c?c.call(o,{name:"key",hash:{},data:l}):c))+'">\n\t\t\t\t\t<div class="item-section-title">\n\t\t\t\t\t\t<span class="title-text">'+d((e.tryI18n||n&&n.tryI18n||u).call(o,(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.titleSections,l&&l.key,{name:"tryI18n",hash:{},data:l}))+"</span>\n\t\t\t\t\t</div>\n"+(null!=(s=(e.compare||n&&n.compare||u).call(o,l&&l.key,"===","manual_recurring",{name:"compare",hash:{},fn:t.program(30,l,0,i,r),inverse:t.program(33,l,0,i,r),data:l}))?s:"")+"\t\t\t\t</div>\n"},30:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t\t<table class="category-plans monster-table-skinny monster-table no-th">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th class="key-cell">'+s(r((i=(i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.unusedItems)&&i.columns)&&i.name,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="rate-cell">'+s(r((i=(i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.unusedItems)&&i.columns)&&i.rate,n))+'</th>\n\t\t\t\t\t\t\t\t\t<th class="actions-cell">'+s(r((i=(i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.unusedItems)&&i.columns)&&i.addFee,n))+"</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n"+(null!=(i=e.each.call(null!=n?n:t.nullContext||{},n,{name:"each",hash:{},fn:t.program(31,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n"},31:function(t,n,e,a,l){var i,r,s=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t\t\t\t\t<tr data-key="'+c(s(null!=(i=null!=n?n.formatted:n)?i.indexToUse:i,n))+'">\n\t\t\t\t\t\t\t\t\t\t<td class="key-cell">'+c((r=null!=(r=e.name||(null!=n?n.name:n))?r:e.helperMissing,"function"==typeof r?r.call(null!=n?n:t.nullContext||{},{name:"name",hash:{},data:l}):r))+'</td>\n\t\t\t\t\t\t\t\t\t\t<td class="rate-cell">'+c(s(null!=(i=null!=n?n.formatted:n)?i.rate:i,n))+'</td>\n\t\t\t\t\t\t\t\t\t\t<td class="actions-cell">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-money add-fee" data-toggle="tooltip" data-placement="top" data-original-title="'+c(s((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.unusedItems)&&i.addFeeTooltip,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n'},33:function(t,n,e,a,l,i,r){var s;return null!=(s=e.each.call(null!=n?n:t.nullContext||{},n,{name:"each",hash:{},fn:t.program(34,l,0,i,r),inverse:t.noop,data:l}))?s:""},34:function(t,n,e,a,l,i,r){var s,c,o=null!=n?n:t.nullContext||{},u=e.helperMissing,d=t.escapeExpression,p=t.lambda;return'\t\t\t\t\t\t\t<div class="category-group" data-category="'+d((c=null!=(c=e.key||l&&l.key)?c:u,"function"==typeof c?c.call(o,{name:"key",hash:{},data:l}):c))+'">\n\t\t\t\t\t\t\t\t<table class="category-plans monster-table-skinny monster-table no-th">\n\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th class="key-cell">'+d((e.tryI18n||n&&n.tryI18n||u).call(o,(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.keys,l&&l.key,{name:"tryI18n",hash:{},data:l}))+'</th>\n\t\t\t\t\t\t\t\t\t\t\t<th class="rate-cell">'+d(p((s=(s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.unusedItems)&&s.columns)&&s.rate,n))+"</th>\n"+(null!=(s=(e.compare||n&&n.compare||u).call(o,t.data(l,1)&&t.data(l,1).key,"===","plan",{name:"compare",hash:{},fn:t.program(35,l,0,i,r),inverse:t.noop,data:l}))?s:"")+'\t\t\t\t\t\t\t\t\t\t\t<th class="actions-cell">'+d(p((s=(s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.unusedItems)&&s.columns)&&s.addFee,n))+"</th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody>\n"+(null!=(s=e.each.call(o,n,{name:"each",hash:{},fn:t.program(37,l,0,i,r),inverse:t.noop,data:l}))?s:"")+"\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n"},35:function(t,n,e,a,l){var i;return'\t\t\t\t\t\t\t\t\t\t\t\t<th class="activation-charge-cell">'+t.escapeExpression(t.lambda((i=(i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.unusedItems)&&i.columns)&&i.activationCharge,n))+"</th>\n"},37:function(t,n,e,a,l,i,r){var s,c,o=null!=n?n:t.nullContext||{},u=e.helperMissing,d=t.escapeExpression,p=t.lambda;return'\t\t\t\t\t\t\t\t\t\t\t<tr data-key="'+d((c=null!=(c=e.key||l&&l.key)?c:u,"function"==typeof c?c.call(o,{name:"key",hash:{},data:l}):c))+'">\n\t\t\t\t\t\t\t\t\t\t\t\t<td class="key-cell">'+d((e.tryI18n||n&&n.tryI18n||u).call(o,(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.keys,l&&l.key,{name:"tryI18n",hash:{},data:l}))+'</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class="rate-cell">'+d(p(null!=(s=null!=n?n.formatted:n)?s.rate:s,n))+"</td>\n"+(null!=(s=(e.compare||n&&n.compare||u).call(o,t.data(l,2)&&t.data(l,2).key,"===","plan",{name:"compare",hash:{},fn:t.program(38,l,0,i,r),inverse:t.noop,data:l}))?s:"")+'\t\t\t\t\t\t\t\t\t\t\t\t<td class="actions-cell">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-money add-fee" data-toggle="tooltip" data-placement="top" data-original-title="'+d(p((s=(s=(s=(s=(s=l&&l.root)&&s.i18n)&&s.servicePlanner)&&s.editPlan)&&s.unusedItems)&&s.addFeeTooltip,n))+'"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n'},38:function(t,n,e,a,l){var i;return'\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="activation-charge-cell">'+t.escapeExpression(t.lambda(null!=(i=null!=n?n.formatted:n)?i.activation_charge:i,n))+"</td>\n"},40:function(t,n,e,a,l){var i;return'\t\t\t\t<div class="empty-current-plan">\n\t\t\t\t\t'+t.escapeExpression(t.lambda((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.unusedItems)&&i.emptyPlan,n))+"\n\t\t\t\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l,i,r){var s,c=t.lambda,o=t.escapeExpression,u=null!=n?n:t.nullContext||{},d=e.helperMissing;return'<div class="edit-plan-container" data-id="'+o(c(null!=(s=null!=n?n.data:n)?s.id:s,n))+'">\n\t<div class="section-header edit-plan-header clearfix">\n\t\t<div class="section-title edit-plan-title">'+o(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.title:s,n))+'</div>\n\t\t<div class="edit-plan-subtitle">'+o(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.subTitle:s,n))+'</div>\n\t</div>\n\n\t<div class="edit-plan-fields">\n\t\t<div class="form-container clearfix">\n\t\t\t<form class="form-horizontal" id="plan_form">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+o(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.name:s,n))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input id="service_plan_name" type="text" name="name" value="'+o(c(null!=(s=null!=n?n.data:n)?s.name:s,n))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="accountsmanager_account_timezone">'+o(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.category:s,n))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<select id="plan_category" name="category">\n'+(null!=(s=(e.select||n&&n.select||d).call(u,null!=(s=null!=n?n.extra:n)?s.selectCategory:s,{name:"select",hash:{},fn:t.program(1,l,0,i,r),inverse:t.noop,data:l}))?s:"")+'\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group'+(null!=(s=(e.compare||n&&n.compare||d).call(u,null!=(s=null!=n?n.extra:n)?s.selectCategory:s,"!=","_new",{name:"compare",hash:{},fn:t.program(4,l,0,i,r),inverse:t.noop,data:l}))?s:"")+' group-additional-category">\n\t\t\t\t\t<label class="control-label" for="extra.additional_category">'+o(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.newCategoryLabel:s,n))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input id="extra_category" type="text" name="extra.additional_category" value="'+o(c(null!=(s=null!=n?n.data:n)?s.category:s,n))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n\n\t<div class="edit-plan-details-items plan-items-table">\n\t\t<div class="usage-items-wrapper item-category-wrapper" data-category="usage">\n\t\t\t<div class="item-section-title">\n\t\t\t\t<span class="title-text">'+o(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.titleSections:s)?s.usage:s,n))+'</span>\n\t\t\t\t<a class="add-new-item" href="javascript:void(0);"><i class="fa fa-plus-circle"></i>'+o(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.actions:s)?s.addUsageItem:s,n))+"</a>\n\t\t\t</div>\n"+(null!=(s=e.if.call(u,null!=(s=null!=n?n.extra:n)?s.hasUsageItems:s,{name:"if",hash:{},fn:t.program(6,l,0,i,r),inverse:t.program(18,l,0,i,r),data:l}))?s:"")+'\t\t</div>\n\n\t\t<div class="service-plan-items-wrapper item-category-wrapper" data-category="plan">\n\t\t\t<div class="item-section-title">\n\t\t\t\t<span class="title-text">'+o(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.titleSections:s)?s.plan:s,n))+'</span>\n\t\t\t\t<a class="add-new-item" href="javascript:void(0);"><i class="fa fa-plus-circle"></i>'+o(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.actions:s)?s.addPlanItem:s,n))+"</a>\n\t\t\t</div>\n"+(null!=(s=e.each.call(u,null!=(s=null!=n?n.items:n)?s.plan:s,{name:"each",hash:{},fn:t.program(20,l,0,i,r),inverse:t.program(18,l,0,i,r),data:l}))?s:"")+'\t\t</div>\n\n\t\t<div class="item-category-wrapper manual-reccuring-items-wrapper" data-category="manual_recurring">\n\t\t\t<div class="item-section-title">\n\t\t\t\t<span class="title-text">'+o(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.titleSections:s)?s.manual_recurring:s,n))+'</span>\n\t\t\t\t<a class="add-new-item" href="javascript:void(0);"><i class="fa fa-plus-circle"></i>'+o(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.actions:s)?s.addManualRecurringItem:s,n))+"</a>\n\t\t\t</div>\n"+(null!=(s=e.if.call(u,null!=(s=null!=n?n.items:n)?s.manual_recurring:s,{name:"if",hash:{},fn:t.program(25,l,0,i,r),inverse:t.program(18,l,0,i,r),data:l}))?s:"")+"\t\t</div>\n\t</div>\n\n"+(null!=(s=e.if.call(u,null!=(s=null!=n?n.extra:n)?s.hasUnusedItems:s,{name:"if",hash:{},fn:t.program(28,l,0,i,r),inverse:t.noop,data:l}))?s:"")+'\n\t<div class="buttons-actions">\n\t\t<button class="monster-button-secondary go-back-to-listing">'+o(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.cancel:s,n))+'</button>\n\t\t<button class="monster-button-success save-service-plan">'+o(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.servicePlanner:s)?s.editPlan:s)?s.save:s,n))+"</button>\n\t</div>\n</div>\n\n"},useData:!0,useDepths:!0}),this.monster.cache.templates["service-planner"]._main["field-manual-recurring"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){var i,r,s=t.lambda,c=t.escapeExpression,o=null!=n?n:t.nullContext||{},u=e.helperMissing;return'<div class="field-editor-container manual-recurring-field">\n\t<div class="field-editor-title">\n\t\t'+c(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.manualRecurring:i)?i.title:i,n))+'\n\t</div>\n\t<form class="form-horizontal" id="manual_recurring_field_form">\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="name">'+c(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.manualRecurring:i)?i.name:i,n))+'</label>\n\t\t\t<div class="controls">\n\t\t\t\t<input type="text" name="name" value="'+c((r=null!=(r=e.name||(null!=n?n.name:n))?r:u,"function"==typeof r?r.call(o,{name:"name",hash:{},data:l}):r))+'">\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="rate">'+c(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.manualRecurring:i)?i.rate:i,n))+'</label>\n\t\t\t<div class="controls">\n\t\t\t\t<input class="input-mini" type="text" name="rate" value="'+c((r=null!=(r=e.rate||(null!=n?n.rate:n))?r:u,"function"==typeof r?r.call(o,{name:"rate",hash:{},data:l}):r))+'">\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="quantity">'+c(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.manualRecurring:i)?i.quantity:i,n))+'</label>\n\t\t\t<div class="controls">\n\t\t\t\t<input class="input-mini" type="text" name="quantity" value="'+c((r=null!=(r=e.quantity||(null!=n?n.quantity:n))?r:u,"function"==typeof r?r.call(o,{name:"quantity",hash:{},data:l}):r))+'">\n\t\t\t</div>\n\t\t</div>\n\t</form>\n\n\t<div class="buttons-actions">\n\t\t<button class="monster-button-secondary cancel">'+c(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.manualRecurring:i)?i.cancel:i,n))+'</button>\n\t\t<button class="monster-button-success save-manual-recurring-field">'+c(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.manualRecurring:i)?i.save:i,n))+"</button>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates["service-planner"]._main["field-plan-choices"]=Handlebars.template({1:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression,c=null!=n?n:t.nullContext||{};return'\t\t<div class="field-editor-title">\n\t\t\t'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.choicesTitle:i,n))+'\n\t\t</div>\n\n\t\t<div class="field-editor-subtitle">\n\t\t\t'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.choicesSubtitle:i,n))+'\n\t\t</div>\n\n\t\t<div class="choices-wrapper">\n\t\t\t<form class="form-horizontal clearfix" id="plan_choice_form">\n\t\t\t\t<div class="main-categories-container">\n'+(null!=(i=e.each.call(c,null!=n?n.choices:n,{name:"each",hash:{},fn:t.program(2,l,0),inverse:t.noop,data:l}))?i:"")+'\t\t\t\t</div>\n\n\t\t\t\t<div class="sub-categories-container">\n'+(null!=(i=e.each.call(c,null!=n?n.choices:n,{name:"each",hash:{},fn:t.program(5,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n"},2:function(t,n,e,a,l){var i;return null!=(i=(e.monsterRadio||n&&n.monsterRadio||e.helperMissing).call(null!=n?n:t.nullContext||{},null!=n?n.friendlyName:n,{name:"monsterRadio",hash:{},fn:t.program(3,l,0),inverse:t.noop,data:l}))?i:""},3:function(t,n,e,a,l){var i;return'\t\t\t\t\t\t<input type="radio" name="plan_category_choice" value="'+t.escapeExpression((i=null!=(i=e.key||l&&l.key)?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"key",hash:{},data:l}):i))+'"/>\n'},5:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{};return'\t\t\t\t\t\t<div class="sub-category-wrapper hidden" data-category="'+t.escapeExpression((r=null!=(r=e.key||l&&l.key)?r:e.helperMissing,"function"==typeof r?r.call(s,{name:"key",hash:{},data:l}):r))+'">\n'+(null!=(i=e.each.call(s,null!=n?n.options:n,{name:"each",hash:{},fn:t.program(6,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t\t\t\t</div>\n"},6:function(t,n,e,a,l){var i;return null!=(i=(e.compare||n&&n.compare||e.helperMissing).call(null!=n?n:t.nullContext||{},null!=n?n.key:n,"!==","friendlyName",{name:"compare",hash:{},fn:t.program(7,l,0),inverse:t.noop,data:l}))?i:""},7:function(t,n,e,a,l){var i;return null!=(i=(e.monsterRadio||n&&n.monsterRadio||e.helperMissing).call(null!=n?n:t.nullContext||{},null!=n?n.friendlyName:n,{name:"monsterRadio",hash:{},fn:t.program(8,l,0),inverse:t.noop,data:l}))?i:""},8:function(t,n,e,a,l){var i
;return'\t\t\t\t\t\t\t\t\t\t<input type="radio" name="plan_key_choice" value="'+t.escapeExpression((i=null!=(i=e.key||(null!=n?n.key:n))?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"key",hash:{},data:l}):i))+'"/>\n'},10:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'\t\t<div class="no-choices-title monster-red">\n\t\t\t'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.noChoices:i,n))+'\n\t\t</div>\n\n\t\t<div class="no-choices-subtitle">\n\t\t\t'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.noChoicesSubtitle:i,n))+"\n\t\t</div>\n"},12:function(t,n,e,a,l){var i;return'\t\t\t<button class="monster-button-success disabled next">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.next:i,n))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){var i,r=null!=n?n:t.nullContext||{};return'<div class="field-editor-container plan-field">\n'+(null!=(i=e.if.call(r,null!=(i=null!=n?n.extra:n)?i.hasChoices:i,{name:"if",hash:{},fn:t.program(1,l,0),inverse:t.program(10,l,0),data:l}))?i:"")+'\n\t<div class="buttons-actions">\n\t\t<button class="monster-button-secondary cancel">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cancel:i,n))+"</button>\n"+(null!=(i=e.if.call(r,null!=(i=null!=n?n.extra:n)?i.hasChoices:i,{name:"if",hash:{},fn:t.program(12,l,0),inverse:t.noop,data:l}))?i:"")+"\t</div>\n</div>"},useData:!0}),this.monster.cache.templates["service-planner"]._main["field-plan-details"]=Handlebars.template({1:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{},c=e.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t\t<tr class="rate-row" data-infinite="'+o((r=null!=(r=e.isInfinite||(null!=n?n.isInfinite:n))?r:c,"function"==typeof r?r.call(s,{name:"isInfinite",hash:{},data:l}):r))+'" data-quantity="'+o((r=null!=(r=e.quantity||(null!=n?n.quantity:n))?r:c,"function"==typeof r?r.call(s,{name:"quantity",hash:{},data:l}):r))+'" data-value="'+o((r=null!=(r=e.value||(null!=n?n.value:n))?r:c,"function"==typeof r?r.call(s,{name:"value",hash:{},data:l}):r))+'">\n\t\t\t\t\t\t\t<td class="quantity-cell">'+(null!=(i=e.if.call(s,null!=n?n.isInfinite:n,{name:"if",hash:{},fn:t.program(2,l,0),inverse:t.program(4,l,0),data:l}))?i:"")+'</td>\n\t\t\t\t\t\t\t<td class="your-rate-cell">'+o((r=null!=(r=e.formattedValue||(null!=n?n.formattedValue:n))?r:c,"function"==typeof r?r.call(s,{name:"formattedValue",hash:{},data:l}):r))+"</td>\n\t\t\t\t\t\t</tr>\n"},2:function(t,n,e,a,l){var i;return t.escapeExpression((i=null!=(i=e.quantity||(null!=n?n.quantity:n))?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"quantity",hash:{},data:l}):i))},4:function(t,n,e,a,l){var i;return"0 - "+t.escapeExpression((i=null!=(i=e.quantity||(null!=n?n.quantity:n))?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"quantity",hash:{},data:l}):i))},6:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t\t<tr class="rate-row">\n\t\t\t\t\t\t\t<td class="empty-cell">'+s(r((i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.notApplicable,n))+'</td>\n\t\t\t\t\t\t\t<td class="empty-cell">'+s(r((i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.notApplicable,n))+"</td>\n\t\t\t\t\t\t</tr>\n"},8:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{},c=t.escapeExpression,o=e.helperMissing;return'\t\t\t\t\t\t<tr class="rate-row">\n\t\t\t\t\t\t\t<td class="quantity-cell">'+(null!=(i=e.if.call(s,null!=n?n.isInfinite:n,{name:"if",hash:{},fn:t.program(2,l,0),inverse:t.program(9,l,0),data:l}))?i:"")+'</td>\n\t\t\t\t\t\t\t<td class="customer-rate-cell">'+c(t.lambda((i=(i=l&&l.root)&&i.i18n)&&i.currencyUsed,n))+' <input type="text" class="trigger-rate-margin input-mini" value="'+c((r=null!=(r=e.value||(null!=n?n.value:n))?r:o,"function"==typeof r?r.call(s,{name:"value",hash:{},data:l}):r))+'"></td>\n\t\t\t\t\t\t\t<td class="margin-cell">'+c((r=null!=(r=e.margin||(null!=n?n.margin:n))?r:o,"function"==typeof r?r.call(s,{name:"margin",hash:{},data:l}):r))+'</td>\n\t\t\t\t\t\t\t<td class="actions-cell">\n'+(null!=(i=e.if.call(s,null!=n?n.hasAdd:n,{name:"if",hash:{},fn:t.program(11,l,0),inverse:t.noop,data:l}))?i:"")+(null!=(i=e.if.call(s,null!=n?n.hasDelete:n,{name:"if",hash:{},fn:t.program(13,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n"},9:function(t,n,e,a,l){var i;return'0 - <input type="text" class="trigger-rate-margin input-mini" value="'+t.escapeExpression((i=null!=(i=e.quantity||(null!=n?n.quantity:n))?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"quantity",hash:{},data:l}):i))+'">'},11:function(t,n,e,a,l){return'\t\t\t\t\t\t\t\t\t<i class="fa fa-plus-circle add-rate-row"></i>\n'},13:function(t,n,e,a,l){return'\t\t\t\t\t\t\t\t\t<i class="fa fa-minus-circle delete-rate-row"></i>\n'},15:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression,c=null!=n?n:t.nullContext||{};return'\t\t<div class="all-objects-container">\n\t\t\t<div class="control-group">\n\t\t\t\t<label for="charge_as" class="control-label">'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.chargeAs:i)?i.label:i,n))+'</label>\n\t\t\t\t<div class="controls">\n\t\t\t\t\t<select name="charge_as">\n'+(null!=(i=(e.select||n&&n.select||e.helperMissing).call(c,null!=n?n.as:n,{name:"select",hash:{},fn:t.program(16,l,0),inverse:t.noop,data:l}))?i:"")+'\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="control-group">\n\t\t\t\t<label for="exceptions" class="control-label">'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.exceptions:i)?i.label:i,n))+'</label>\n\t\t\t\t<div class="controls">\n'+(null!=(i=e.each.call(c,(i=l&&l.root)&&i.allOptions,{name:"each",hash:{},fn:t.program(19,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n"},16:function(t,n,e,a,l){var i;return'\t\t\t\t\t\t\t<option value="_none">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.chargeAs:i)?i.selectChoice:i,n))+"</option>\n"+(null!=(i=e.each.call(null!=n?n:t.nullContext||{},(i=l&&l.root)&&i.allOptions,{name:"each",hash:{},fn:t.program(17,l,0),inverse:t.noop,data:l}))?i:"")},17:function(t,n,e,a,l){var i,r=t.escapeExpression;return'\t\t\t\t\t\t\t\t<option value="'+r((i=null!=(i=e.key||l&&l.key)?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"key",hash:{},data:l}):i))+'">'+r(t.lambda(n,n))+"</option>\n"},19:function(t,n,e,a,l){var i;return null!=(i=(e.monsterCheckbox||n&&n.monsterCheckbox||e.helperMissing).call(null!=n?n:t.nullContext||{},n,{name:"monsterCheckbox",hash:{},fn:t.program(20,l,0),inverse:t.noop,data:l}))?i:""},20:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{},c=e.helperMissing;return'\t\t\t\t\t\t\t<input type="checkbox" value="'+t.escapeExpression((r=null!=(r=e.key||l&&l.key)?r:c,"function"==typeof r?r.call(s,{name:"key",hash:{},data:l}):r))+'" name="exceptions[]"'+(null!=(i=(e.ifInArray||n&&n.ifInArray||c).call(s,l&&l.key,(i=l&&l.root)&&i.exceptions,{name:"ifInArray",hash:{},fn:t.program(21,l,0),inverse:t.noop,data:l}))?i:"")+"></input>\n"},21:function(t,n,e,a,l){return" checked"},23:function(t,n,e,a,l){var i,r,s,c='\t\t\t<div class="control-group">\n\t\t\t\t<label for="activation_charge" class="control-label">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.activationCharge:i)?i.label:i,n))+'</label>\n\t\t\t\t<div class="controls">\n';return r=null!=(r=e.monsterSwitch||(null!=n?n.monsterSwitch:n))?r:e.helperMissing,s={name:"monsterSwitch",hash:{},fn:t.program(24,l,0),inverse:t.noop,data:l},i="function"==typeof r?r.call(null!=n?n:t.nullContext||{},s):r,e.monsterSwitch||(i=e.blockHelperMissing.call(n,i,s)),null!=i&&(c+=i),c+"\t\t\t\t</div>\n\t\t\t</div>\n"},24:function(t,n,e,a,l){var i;return'\t\t\t\t\t\t<input type="checkbox" class="require-checkbox" data-type="activation_charge" name="has_activation_charge"'+(null!=(i=(e.compare||n&&n.compare||e.helperMissing).call(null!=n?n:t.nullContext||{},null!=n?n.activation_charge:n,">=",1,{name:"compare",hash:{},fn:t.program(21,l,0),inverse:t.noop,data:l}))?i:"")+">\n"},26:function(t,n,e,a,l){return" hidden"},28:function(t,n,e,a,l){var i;return'\t\t\t\t\t<input type="checkbox" class="require-checkbox" data-type="minimum" name="has_minimum"'+(null!=(i=(e.compare||n&&n.compare||e.helperMissing).call(null!=n?n:t.nullContext||{},null!=n?n.minimum:n,">=",1,{name:"compare",hash:{},fn:t.program(21,l,0),inverse:t.noop,data:l}))?i:"")+">\n"},30:function(t,n,e,a,l){var i;return'\t\t\t\t\t<input type="checkbox" name="cascade"'+(null!=(i=e.if.call(null!=n?n:t.nullContext||{},null!=n?n.cascade:n,{name:"if",hash:{},fn:t.program(21,l,0),inverse:t.noop,data:l}))?i:"")+">\n"},compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){var i,r,s,c=null!=n?n:t.nullContext||{},o=e.helperMissing,u=t.escapeExpression,d=t.lambda,p=e.blockHelperMissing,m='<div class="field-editor-container plan-field">\n\t<div class="field-editor-title">\n\t\t'+u((e.replaceVar||n&&n.replaceVar||o).call(c,null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.title:i,null!=n?n.friendlyName:n,{name:"replaceVar",hash:{},data:l}))+'\n\t</div>\n\t<form class="plan-item-details-wrapper form-horizontal" id="plan_field_form">\n\t\t<div class="rate-container clearfix">\n\t\t\t<table class="current-rate-table monster-table-skinny monster-table no-th">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th class="quantity-cell">'+u(d((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.quantity,n))+'</th>\n\t\t\t\t\t\t<th class="your-rate-cell">'+u(d((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.yourRate,n))+"</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n"+(null!=(i=e.each.call(c,null!=(i=null!=n?n.extra:n)?i.currentRates:i,{name:"each",hash:{},fn:t.program(1,l,0),inverse:t.program(6,l,0),data:l}))?i:"")+'\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t\t<table class="rate-table monster-table-skinny monster-table no-th">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th class="quantity-cell">'+u(d((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.quantity,n))+'</th>\n\t\t\t\t\t\t<th class="customer-rate-cell">'+u(d((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.customerRate,n))+'</th>\n\t\t\t\t\t\t<th class="margin-cell">'+u(d((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.margin,n))+'</th>\n\t\t\t\t\t\t<th class="actions-cell">'+u(d((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.actions,n))+"</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n"+(null!=(i=e.each.call(c,null!=(i=null!=n?n.extra:n)?i.rates:i,{name:"each",hash:{},fn:t.program(8,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\n"+(null!=(i=(e.compare||n&&n.compare||o).call(c,null!=n?n.key:n,"===","_all",{name:"compare",hash:{},fn:t.program(15,l,0),inverse:t.noop,data:l}))?i:"")+"\n"+(null!=(i=(e.compare||n&&n.compare||o).call(c,null!=n?n.category:n,"!==","ui_apps",{name:"compare",hash:{},fn:t.program(23,l,0),inverse:t.noop,data:l}))?i:"")+'\n\t\t<div class="control-group'+(null!=(i=(e.compare||n&&n.compare||o).call(c,null!=n?n.activation_charge:n,"===",0,{name:"compare",hash:{},fn:t.program(26,l,0),inverse:t.noop,data:l}))?i:"")+'" data-parent="activation_charge">\n\t\t\t<table class="rate-table monster-table-skinny monster-table no-th">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th class="your-rate-cell">'+u(d((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.yourRate,n))+'</th>\n\t\t\t\t\t\t<th class="customer-rate-cell">'+u(d((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.customerRate,n))+'</th>\n\t\t\t\t\t\t<th class="margin-cell">'+u(d((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.margin,n))+'</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr class="rate-row">\n\t\t\t\t\t\t\t<td class="your-rate-cell" data-value="'+u(d(null!=(i=null!=(i=null!=n?n.extra:n)?i.activationCharge:i)?i.yourValue:i,n))+'">'+u(d(null!=(i=null!=(i=null!=n?n.extra:n)?i.activationCharge:i)?i.yourFormattedValue:i,n))+'</td>\n\t\t\t\t\t\t\t<td class="customer-rate-cell">'+u(d((i=(i=l&&l.root)&&i.i18n)&&i.currencyUsed,n))+' <input type="text" class="trigger-activation-charge-margin input-mini" name="activation_charge" value="'+u((r=null!=(r=e.activation_charge||(null!=n?n.activation_charge:n))?r:o,"function"==typeof r?r.call(c,{name:"activation_charge",hash:{},data:l}):r))+'"></td>\n\t\t\t\t\t\t\t<td class="margin-cell">'+u(d(null!=(i=null!=(i=null!=n?n.extra:n)?i.activationCharge:i)?i.margin:i,n))+'</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\n\t\t<div class="control-group">\n\t\t\t<label for="minimum" class="control-label">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.minimum:i)?i.label:i,n))+'</label>\n\t\t\t<div class="controls">\n';return r=null!=(r=e.monsterSwitch||(null!=n?n.monsterSwitch:n))?r:o,s={name:"monsterSwitch",hash:{},fn:t.program(28,l,0),inverse:t.noop,data:l},i="function"==typeof r?r.call(c,s):r,e.monsterSwitch||(i=p.call(n,i,s)),null!=i&&(m+=i),m+='\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="control-group'+(null!=(i=(e.compare||n&&n.compare||o).call(c,null!=n?n.minimum:n,"===",0,{name:"compare",hash:{},fn:t.program(26,l,0),inverse:t.noop,data:l}))?i:"")+'" data-parent="minimum">\n\t\t\t<label for="minimum" class="control-label">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.minimum:i)?i.subLabel:i,n))+'</label>\n\t\t\t<div class="controls">\n\t\t\t\t<input type="text" class="input-mini" name="minimum" value="'+u((r=null!=(r=e.minimum||(null!=n?n.minimum:n))?r:o,"function"==typeof r?r.call(c,{name:"minimum",hash:{},data:l}):r))+'">\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="control-group">\n\t\t\t<label for="cascade" class="control-label">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.label:i,n))+'</label>\n\t\t\t<div class="controls">\n',r=null!=(r=e.monsterSwitch||(null!=n?n.monsterSwitch:n))?r:o,s={name:"monsterSwitch",hash:{},fn:t.program(30,l,0),inverse:t.noop,data:l},i="function"==typeof r?r.call(c,s):r,e.monsterSwitch||(i=p.call(n,i,s)),null!=i&&(m+=i),m+'\t\t\t\t<i class="fa fa-question-circle" data-html="true" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.tooltip:i,n))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t</div>\n\t\t\t<div class="cascade-help">\n\t\t\t\t<p>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.help1:i,n))+' <i class="cascade-icon icon-telicon-account-jump"></i></p>\n\t\t\t\t<p>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.help2:i,n))+"</p>\n\t\t\t\t<p>"+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.help3:i,n))+'</p>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n\n\t<div class="buttons-actions">\n\t\t<button class="monster-button-secondary cancel">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cancel:i,n))+'</button>\n\t\t<button class="monster-button-success save-plan-field">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.save:i,n))+"</button>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates["service-planner"]._main["field-plan-rate-row"]=Handlebars.template({1:function(t,n,e,a,l){var i;return t.escapeExpression((i=null!=(i=e.quantity||(null!=n?n.quantity:n))?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"quantity",hash:{},data:l}):i))},3:function(t,n,e,a,l){var i;return'0 - <input type="text" class="trigger-rate-margin input-mini" value="'+t.escapeExpression((i=null!=(i=e.quantity||(null!=n?n.quantity:n))?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"quantity",hash:{},data:l}):i))+'">'},5:function(t,n,e,a,l){return'\t\t\t<i class="fa fa-plus-circle add-rate-row"></i>\n'},7:function(t,n,e,a,l){return'\t\t\t<i class="fa fa-minus-circle delete-rate-row"></i>\n'},compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{},c=t.escapeExpression,o=e.helperMissing;return'<tr class="rate-row">\n\t<td class="quantity-cell">'+(null!=(i=e.if.call(s,null!=n?n.isInfinite:n,{name:"if",hash:{},fn:t.program(1,l,0),inverse:t.program(3,l,0),data:l}))?i:"")+'</td>\n\t<td class="customer-rate-cell">'+c(t.lambda((i=(i=l&&l.root)&&i.i18n)&&i.currencyUsed,n))+' <input type="text" class="trigger-rate-margin input-mini" value="'+c((r=null!=(r=e.customerValue||(null!=n?n.customerValue:n))?r:o,"function"==typeof r?r.call(s,{name:"customerValue",hash:{},data:l}):r))+'"></td>\n\t<td class="margin-cell">'+c((r=null!=(r=e.margin||(null!=n?n.margin:n))?r:o,"function"==typeof r?r.call(s,{name:"margin",hash:{},data:l}):r))+'</td>\n\t<td class="actions-cell">\n'+(null!=(i=e.if.call(s,null!=n?n.hasAdd:n,{name:"if",hash:{},fn:t.program(5,l,0),inverse:t.noop,data:l}))?i:"")+(null!=(i=e.if.call(s,null!=n?n.hasDelete:n,{name:"if",hash:{},fn:t.program(7,l,0),inverse:t.noop,data:l}))?i:"")+"\t</td>\n</tr>"},useData:!0}),this.monster.cache.templates["service-planner"]._main["field-usage-choices"]=Handlebars.template({1:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'\t\t<div class="field-editor-title">\n\t\t\t'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.choicesTitle:i,n))+'\n\t\t</div>\n\n\t\t<div class="field-editor-subtitle">\n\t\t\t'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.choicesSubtitle:i,n))+'\n\t\t</div>\n\n\t\t<div class="choices-wrapper">\n\t\t\t<form class="form-horizontal" id="usage_choice_form">\n'+(null!=(i=e.each.call(null!=n?n:t.nullContext||{},null!=n?n.choices:n,{name:"each",hash:{},fn:t.program(2,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t</form>\n\t\t</div>\n"},2:function(t,n,e,a,l){var i;return null!=(i=(e.monsterRadio||n&&n.monsterRadio||e.helperMissing).call(null!=n?n:t.nullContext||{},null!=n?n.friendly_name:n,{name:"monsterRadio",hash:{},fn:t.program(3,l,0),inverse:t.noop,data:l}))?i:""},3:function(t,n,e,a,l){return'\t\t\t\t\t\t<input type="radio" name="usage_choice" value="'+t.escapeExpression(t.lambda(null!=n?n.name:n,n))+'"/>\n'},5:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'\t\t<div class="no-choices-title monster-red">\n\t\t\t'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.noChoices:i,n))+'\n\t\t</div>\n\n\t\t<div class="no-choices-subtitle">\n\t\t\t'+s(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.noChoicesSubtitle:i,n))+"\n\t\t</div>\n"},7:function(t,n,e,a,l){var i;return'\t\t\t<button class="monster-button-success next">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.next:i,n))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){var i,r=null!=n?n:t.nullContext||{};return'<div class="field-editor-container usage-field">\n'+(null!=(i=e.if.call(r,null!=n?n.choices:n,{name:"if",hash:{},fn:t.program(1,l,0),inverse:t.program(5,l,0),data:l}))?i:"")+'\n\t<div class="buttons-actions">\n\t\t<button class="monster-button-secondary cancel">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.cancel:i,n))+"</button>\n"+(null!=(i=e.if.call(r,null!=n?n.choices:n,{name:"if",hash:{},fn:t.program(7,l,0),inverse:t.noop,data:l}))?i:"")+"\t</div>\n</div>"},useData:!0}),this.monster.cache.templates["service-planner"]._main["field-usage-details"]=Handlebars.template({1:function(t,n,e,a,l){return" disabled"},3:function(t,n,e,a,l){var i;return null!=(i=e.each.call(null!=n?n:t.nullContext||{},null!=(i=null!=n?n.extra:n)?i.markup_types:i,{name:"each",hash:{},fn:t.program(4,l,0),inverse:t.noop,data:l}))?i:""},4:function(t,n,e,a,l){var i,r=t.escapeExpression;return'\t\t\t\t\t\t\t<option value="'+r(t.lambda(n,n))+'">'+r((e.tryI18n||n&&n.tryI18n||e.helperMissing).call(null!=n?n:t.nullContext||{},(i=(i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.editField)&&i.usage)&&i.markupTypes,n,{name:"tryI18n",hash:{},data:l}))+"</option>\n"},6:function(t,n,e,a,l){return" hidden"},8:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{},c=e.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t\t\t<tr class="rate-row" data-infinite="'+o((r=null!=(r=e.isInfinite||(null!=n?n.isInfinite:n))?r:c,"function"==typeof r?r.call(s,{name:"isInfinite",hash:{},data:l}):r))+'" data-quantity="'+o((r=null!=(r=e.quantity||(null!=n?n.quantity:n))?r:c,"function"==typeof r?r.call(s,{name:"quantity",hash:{},data:l}):r))+'" data-value="'+o((r=null!=(r=e.value||(null!=n?n.value:n))?r:c,"function"==typeof r?r.call(s,{name:"value",hash:{},data:l}):r))+'">\n\t\t\t\t\t\t\t\t<td class="quantity-cell">'+(null!=(i=e.if.call(s,null!=n?n.isInfinite:n,{name:"if",hash:{},fn:t.program(9,l,0),inverse:t.program(11,l,0),data:l}))?i:"")+'</td>\n\t\t\t\t\t\t\t\t<td class="your-rate-cell">'+o((r=null!=(r=e.formattedValue||(null!=n?n.formattedValue:n))?r:c,"function"==typeof r?r.call(s,{name:"formattedValue",hash:{},data:l}):r))+"</td>\n\t\t\t\t\t\t\t</tr>\n"},9:function(t,n,e,a,l){var i;return t.escapeExpression((i=null!=(i=e.quantity||(null!=n?n.quantity:n))?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"quantity",hash:{},data:l}):i))},11:function(t,n,e,a,l){var i;return"0 - "+t.escapeExpression((i=null!=(i=e.quantity||(null!=n?n.quantity:n))?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"quantity",hash:{},data:l}):i))},13:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t\t\t<tr class="rate-row">\n\t\t\t\t\t\t\t\t<td class="empty-cell">'+s(r((i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.notApplicable,n))+'</td>\n\t\t\t\t\t\t\t\t<td class="empty-cell">'+s(r((i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.notApplicable,n))+"</td>\n\t\t\t\t\t\t\t</tr>\n"},15:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{},c=t.escapeExpression,o=e.helperMissing;return'\t\t\t\t\t\t\t<tr class="rate-row">\n\t\t\t\t\t\t\t\t<td class="quantity-cell">'+(null!=(i=e.if.call(s,null!=n?n.isInfinite:n,{name:"if",hash:{},fn:t.program(9,l,0),inverse:t.program(16,l,0),data:l}))?i:"")+'</td>\n\t\t\t\t\t\t\t\t<td class="customer-rate-cell">'+c(t.lambda((i=(i=l&&l.root)&&i.i18n)&&i.currencyUsed,n))+' <input type="text" class="trigger-rate-margin input-mini" value="'+c((r=null!=(r=e.value||(null!=n?n.value:n))?r:o,"function"==typeof r?r.call(s,{name:"value",hash:{},data:l}):r))+'"></td>\n\t\t\t\t\t\t\t\t<td class="margin-cell">'+c((r=null!=(r=e.margin||(null!=n?n.margin:n))?r:o,"function"==typeof r?r.call(s,{name:"margin",hash:{},data:l}):r))+'</td>\n\t\t\t\t\t\t\t\t<td class="actions-cell">\n'+(null!=(i=e.if.call(s,null!=n?n.hasAdd:n,{name:"if",hash:{},fn:t.program(18,l,0),inverse:t.noop,data:l}))?i:"")+(null!=(i=e.if.call(s,null!=n?n.hasDelete:n,{name:"if",hash:{},fn:t.program(20,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n"},16:function(t,n,e,a,l){var i;return'0 - <input type="text" class="trigger-rate-margin input-mini" value="'+t.escapeExpression((i=null!=(i=e.quantity||(null!=n?n.quantity:n))?i:e.helperMissing,"function"==typeof i?i.call(null!=n?n:t.nullContext||{},{name:"quantity",hash:{},data:l}):i))+'">'},18:function(t,n,e,a,l){return'\t\t\t\t\t\t\t\t\t\t<i class="fa fa-plus-circle add-rate-row"></i>\n'},20:function(t,n,e,a,l){return'\t\t\t\t\t\t\t\t\t\t<i class="fa fa-minus-circle delete-rate-row"></i>\n'},22:function(t,n,e,a,l){var i;return'\t\t\t\t\t\t<input type="checkbox" class="require-checkbox" data-type="minimum" name="has_minimum"'+(null!=(i=(e.compare||n&&n.compare||e.helperMissing).call(null!=n?n:t.nullContext||{},null!=n?n.minimum:n,">=",1,{name:"compare",hash:{},fn:t.program(23,l,0),inverse:t.noop,data:l}))?i:"")+">\n"},23:function(t,n,e,a,l){return" checked"},25:function(t,n,e,a,l){var i;return'\t\t\t\t\t\t<input type="checkbox" name="cascade"'+(null!=(i=e.if.call(null!=n?n:t.nullContext||{},null!=n?n.cascade:n,{name:"if",hash:{},fn:t.program(23,l,0),inverse:t.noop,data:l}))?i:"")+">\n"},compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){var i,r,s,c=t.lambda,o=t.escapeExpression,u=null!=n?n:t.nullContext||{},d=e.helperMissing,p="function",m=e.blockHelperMissing,v='<div class="field-editor-container usage-field">\n\t<div class="field-editor-title">\n\t\t'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.title:i,n))+'\n\t</div>\n\t<form class="form-horizontal" id="usage_field_form">\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="name">'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.name:i,n))+'</label>\n\t\t\t<div class="controls">\n\t\t\t\t<span class="usage-item-name">'+o((r=null!=(r=e.friendlyName||(null!=n?n.friendlyName:n))?r:d,typeof r===p?r.call(u,{name:"friendlyName",hash:{},data:l}):r))+'</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="markup_type">'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.markupType:i,n))+'</label>\n\t\t\t<div class="controls">\n\t\t\t\t<select class="input-medium '+(null!=(i=e.if.call(u,null!=(i=null!=n?n.extra:n)?i.isMarkupTypeDisabled:i,{name:"if",hash:{},fn:t.program(1,l,0),inverse:t.noop,data:l}))?i:"")+'" name="markup_type">\n'+(null!=(i=(e.select||n&&n.select||d).call(u,null!=n?n.markupType:n,{name:"select",hash:{},fn:t.program(3,l,0),inverse:t.noop,data:l}))?i:"")+'\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="'+(null!=(i=(e.compare||n&&n.compare||d).call(u,null!=n?n.markupType:n,"===","rate",{name:"compare",hash:{},fn:t.program(6,l,0),inverse:t.noop,data:l}))?i:"")+' control-group markup-group" data-type="standard">\n\t\t\t<label data-type="percentage" class="control-label'+(null!=(i=(e.compare||n&&n.compare||d).call(u,null!=n?n.markupType:n,"!==","percentage",{name:"compare",hash:{},fn:t.program(6,l,0),inverse:t.noop,data:l}))?i:"")+'" for="rate">'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.markupPercent:i,n))+'</label>\n\t\t\t<label data-type="fixed_price" class="control-label'+(null!=(i=(e.compare||n&&n.compare||d).call(u,null!=n?n.markupType:n,"!==","fixed_price",{name:"compare",hash:{},fn:t.program(6,l,0),inverse:t.noop,data:l}))?i:"")+'" for="rate">'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.markupFixed:i,n))+'</label>\n\t\t\t<div class="controls">\n\t\t\t\t<input class="input-mini" type="text" name="rate" value="'+o((r=null!=(r=e.rate||(null!=n?n.rate:n))?r:d,typeof r===p?r.call(u,{name:"rate",hash:{},data:l}):r))+'">\n\t\t\t</div>\n\t\t</div>\n\t</form>\n\n\t<div class="'+(null!=(i=(e.compare||n&&n.compare||d).call(u,null!=n?n.markupType:n,"!==","rate",{name:"compare",hash:{},fn:t.program(6,l,0),inverse:t.noop,data:l}))?i:"")+' control-group markup-group plan-item-details-wrapper" data-type="rate">\n\t\t<form class="plan-item-details-wrapper form-horizontal" id="plan_field_form">\n\t\t\t<div class="rate-container clearfix">\n\t\t\t\t<table class="current-rate-table monster-table-skinny monster-table no-th">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th class="quantity-cell">'+o(c((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.quantity,n))+'</th>\n\t\t\t\t\t\t\t<th class="your-rate-cell">'+o(c((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.yourRate,n))+"</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n"+(null!=(i=e.each.call(u,null!=(i=null!=n?n.extra:n)?i.currentRates:i,{name:"each",hash:{},fn:t.program(8,l,0),inverse:t.program(13,l,0),data:l}))?i:"")+'\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<table class="rate-table monster-table-skinny monster-table no-th">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th class="quantity-cell">'+o(c((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.quantity,n))+'</th>\n\t\t\t\t\t\t\t<th class="customer-rate-cell">'+o(c((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.customerRate,n))+'</th>\n\t\t\t\t\t\t\t<th class="margin-cell">'+o(c((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.margin,n))+'</th>\n\t\t\t\t\t\t\t<th class="actions-cell">'+o(c((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.editPlan)&&i.columns)&&i.actions,n))+"</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n"+(null!=(i=e.each.call(u,null!=(i=null!=n?n.extra:n)?i.rates:i,{name:"each",hash:{},fn:t.program(15,l,0),inverse:t.noop,data:l}))?i:"")+'\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t\t<div class="control-group">\n\t\t\t\t<label for="minimum" class="control-label">'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.minimum:i)?i.label:i,n))+'</label>\n\t\t\t\t<div class="controls">\n';return r=null!=(r=e.monsterSwitch||(null!=n?n.monsterSwitch:n))?r:d,s={name:"monsterSwitch",hash:{},fn:t.program(22,l,0),inverse:t.noop,data:l},i=typeof r===p?r.call(u,s):r,e.monsterSwitch||(i=m.call(n,i,s)),null!=i&&(v+=i),v+='\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="control-group'+(null!=(i=(e.compare||n&&n.compare||d).call(u,null!=n?n.minimum:n,"===",0,{name:"compare",hash:{},fn:t.program(6,l,0),inverse:t.noop,data:l
}))?i:"")+'" data-parent="minimum">\n\t\t\t\t<label for="minimum" class="control-label">'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.minimum:i)?i.subLabel:i,n))+'</label>\n\t\t\t\t<div class="controls">\n\t\t\t\t\t<input type="text" class="input-mini" name="minimum" value="'+o((r=null!=(r=e.minimum||(null!=n?n.minimum:n))?r:d,typeof r===p?r.call(u,{name:"minimum",hash:{},data:l}):r))+'">\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="control-group">\n\t\t\t\t<label for="cascade" class="control-label">'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.label:i,n))+'</label>\n\t\t\t\t<div class="controls">\n',r=null!=(r=e.monsterSwitch||(null!=n?n.monsterSwitch:n))?r:d,s={name:"monsterSwitch",hash:{},fn:t.program(25,l,0),inverse:t.noop,data:l},i=typeof r===p?r.call(u,s):r,e.monsterSwitch||(i=m.call(n,i,s)),null!=i&&(v+=i),v+'\t\t\t\t\t<i class="fa fa-question-circle" data-html="true" data-original-title="'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.tooltip:i,n))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="cascade-help">\n\t\t\t\t\t<p>'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.help1:i,n))+' <i class="cascade-icon icon-telicon-account-jump"></i></p>\n\t\t\t\t\t<p>'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.help2:i,n))+"</p>\n\t\t\t\t\t<p>"+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.plan:i)?i.cascade:i)?i.help3:i,n))+'</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\n\t<div class="buttons-actions">\n\t\t<button class="monster-button-secondary cancel">'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.cancel:i,n))+'</button>\n\t\t<button class="monster-button-success save-usage-field">'+o(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.editPlan:i)?i.editField:i)?i.usage:i)?i.save:i,n))+"</button>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates["service-planner"]._main["list-plans"]=Handlebars.template({1:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{};return'\t\t<div class="category-group">\n\t\t\t<div class="category-title">'+t.escapeExpression((r=null!=(r=e.name||(null!=n?n.name:n))?r:e.helperMissing,"function"==typeof r?r.call(s,{name:"name",hash:{},data:l}):r))+'</div>\n\t\t\t<table class="category-plans monster-table-skinny monster-table no-th">\n'+(null!=(i=e.each.call(s,null!=n?n.plans:n,{name:"each",hash:{},fn:t.program(2,l,0),inverse:t.noop,data:l}))?i:"")+"\t\t\t</table>\n\t\t</div>\n"},2:function(t,n,e,a,l){var i,r,s=null!=n?n:t.nullContext||{},c=e.helperMissing,o=t.escapeExpression,u=t.lambda;return'\t\t\t\t\t<tr data-id="'+o((r=null!=(r=e.id||(null!=n?n.id:n))?r:c,"function"==typeof r?r.call(s,{name:"id",hash:{},data:l}):r))+'" data-name="'+o((r=null!=(r=e.name||(null!=n?n.name:n))?r:c,"function"==typeof r?r.call(s,{name:"name",hash:{},data:l}):r))+'">\n\t\t\t\t\t\t<td class="plan-name">'+o((r=null!=(r=e.name||(null!=n?n.name:n))?r:c,"function"==typeof r?r.call(s,{name:"name",hash:{},data:l}):r))+'</td>\n\t\t\t\t\t\t<td class="plan-actions">\n\t\t\t\t\t\t\t<i class="fa fa-copy copy-plan" data-toggle="tooltip" data-placement="top" data-original-title="'+o(u((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.listing)&&i.actions)&&i.copy,n))+'"></i>\n\t\t\t\t\t\t\t<i class="fa fa-edit edit-plan" data-toggle="tooltip" data-placement="top" data-original-title="'+o(u((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.listing)&&i.actions)&&i.edit,n))+'"></i>\n\t\t\t\t\t\t\t<i class="fa fa-trash delete-plan" data-toggle="tooltip" data-placement="top" data-original-title="'+o(u((i=(i=(i=(i=(i=l&&l.root)&&i.i18n)&&i.servicePlanner)&&i.listing)&&i.actions)&&i.delete,n))+'"></i>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n'},4:function(t,n,e,a,l){var i;return'\t\t<div class="empty-plans">\n\t\t\t'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.listing:i)?i.empty:i,n))+"\n\t\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,n,e,a,l){var i,r=t.lambda,s=t.escapeExpression;return'<div class="main-listing-container">\n\t<div class="section-header listing-header clearfix">\n\t\t<div class="section-title listing-title">'+s(r(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.listing:i)?i.title:i,n))+'</div>\n\t\t<div class="listing-tip"><i class="fa fa-info-circle"></i>'+s(r(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.listing:i)?i.tip:i,n))+'</div>\n\t\t<div class="listing-actions"><button class="monster-button-primary add-plan">'+s(r(null!=(i=null!=(i=null!=(i=null!=n?n.i18n:n)?i.servicePlanner:i)?i.listing:i)?i.newPlan:i,n))+"</button></div>\n\t</div>\n\n"+(null!=(i=e.each.call(null!=n?n:t.nullContext||{},null!=n?n.categories:n,{name:"each",hash:{},fn:t.program(1,l,0),inverse:t.program(4,l,0),data:l}))?i:"")+"</div>\n\n"},useData:!0});