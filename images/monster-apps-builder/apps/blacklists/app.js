define("apps/blacklists/app",["require","jquery","lodash","toastr","monster"],function(t){var n=t("jquery"),l=t("lodash"),e=t("toastr"),a=t("monster");return{name:"blacklists",css:["app"],i18n:{"en-US":{customCss:!1},"fr-FR":{customCss:!1}},requests:{},subscribe:{},load:function(t){var n=this;n.initApp(function(){t&&t(n)})},initApp:function(t){var n=this;a.pub("auth.initApp",{app:n,callback:t})},render:function(t){var n=this;a.ui.generateAppLayout(n,{menus:[{tabs:[{callback:n.renderListing}]}]})},renderListing:function(t){var e=this,s=function(l){var s=n(e.getTemplate({name:"listing",data:i(l)}));return a.ui.footable(s.find("#blacklists")),e.bindListingEvents(s,n.extend(!0,t,{data:{account:l.account}})),s},i=function(t){var n=t.blacklists,e=t.account;return l.each(n,function(t){t.enabled=!!e.hasOwnProperty("blacklists")&&l.includes(e.blacklists,t.id)}),{blacklists:n}};a.ui.insertTemplate(t.container,function(t){a.parallel({account:function(t){e.requestGetAccount({success:function(n){t(null,n)}})},blacklists:function(t){e.requestListBLacklists({success:function(n){t(null,n)}})}},function(n,l){t(s(l))})})},renderWizardConfigure:function(t){var l=this,e=t.container,s=t.hasOwnProperty("data")?t.data:{},i={blacklist:s.hasOwnProperty("blacklist")?s.blacklist:{}},r=function(){var e=n(l.getTemplate({name:"wizard-configure",data:i}));return l.bindWizardConfigureEvents(e,t),e};a.ui.insertTemplate(e,function(t){t(r(),function(){e.find("#name").focus()})})},renderWizardNumbers:function(t){var e=this,s=t.container,i=function(){var a=n(e.getTemplate({name:"wizard-numbers",data:{blacklist:t.data,noNumber:!t.data.blacklist.hasOwnProperty("numbers")||l.isEmpty(t.data.blacklist.numbers)}}));return e.renderWizardNumbersList(a,t),e.bindWizardNumbersEvents(a,t),a};a.ui.insertTemplate(s,function(t){t(i(),function(){s.find("#numbers").focus()})})},renderWizardNumbersList:function(t,e,a){var s=this;t.find(".numbers-list-wrapper").empty().append(function(){var t=n.extend(!0,{hideTitle:!1},a);return n(s.getTemplate({name:"wizard-numbers-list",data:n.extend(!0,e.data,{options:t,blacklist:{extra:{numbers_count:l.keys(e.data.blacklist.numbers).length}}})}))}())},renderEdit:function(t){var e=this,s=t.container,i=function(a){var s=a.account,i=n.extend(!0,a.blacklist,{extra:{enabled:!!s.hasOwnProperty("blacklists")&&l.includes(s.blacklists,t.data.blacklistId)}}),r=n(e.getTemplate({name:"edit",data:{blacklist:i}}));return n.extend(!0,t,{data:{blacklist:i}}),e.renderWizardNumbersList(r,t,{hideTitle:!0}),e.bindEditEvents(r,t),r};a.ui.insertTemplate(s,function(n){a.parallel({blacklist:function(n){e.requestGetBlacklist({data:{blacklistId:t.data.blacklistId},success:function(t){n(null,t)}})},account:function(t){e.requestGetAccount({success:function(n){t(null,n)}})}},function(t,l){n(i(l))})})},bindListingEvents:function(t,l){var e=this,a=l.data.account;t.find(".new-blacklist").on("click",function(t){t.preventDefault(),delete l.data.blacklist,e.renderWizardConfigure(l)}),t.find(".toggle-blacklist").on("change",function(t){t.preventDefault();var l=n(this),s=l.parents("tr").data("id");l.prop("checked")?(a.hasOwnProperty("blacklists")||(a.blacklists=[]),a.blacklists.push(s)):a.blacklists.splice(a.blacklists.indexOf(s),1),e.requestPatchAccount({data:{data:{blacklists:a.blacklists}}})}),t.find(".edit-blacklist").on("click",function(t){t.preventDefault();var a=n(this),s=a.parents("tr").data("id");e.renderEdit(n.extend(!0,{},l,{data:{blacklistId:s}}))})},bindWizardConfigureEvents:function(t,l){var e=this;t.find("#next").on("click",function(s){s.preventDefault();var i=t.find("#form_configure"),r=a.ui.getFormData("form_configure");a.ui.validate(i,{rules:{"blacklist.name":{required:!0,minlength:1,maxlength:128}}}),a.ui.valid(i)&&e.renderWizardNumbers(n.extend(!0,{},l,{data:{blacklist:r.blacklist}}))}),t.find("#cancel").on("click",function(t){t.preventDefault(),e.renderListing(l)})},bindWizardNumbersEvents:function(t,s){var i=this;t.on("click","#add_numbers",function(r){r.preventDefault();var c,u=t.find("#form_add_numbers"),o=a.ui.getFormData("form_add_numbers"),d={},b=[];a.ui.validate(u,{rules:{numbers:{required:!0}}}),a.ui.valid(u)&&(o.numbers=o.numbers.replace(/[\n]/g," "),o.numbers=o.numbers.replace(/[-().]/g,"").split(" "),l.each(o.numbers,function(t){c=a.util.getFormatPhoneNumber(t),c.hasOwnProperty("e164Number")?d[c.e164Number]={}:b.push(t)}),t.find("#numbers").val(""),t.find("#create").prop("disabled",l.isEmpty(d)&&l.isEmpty(s.data.blacklist.numbers)),n.extend(!0,s,{data:{blacklist:{numbers:d}}}),l.isEmpty(b)||e.warning(i.i18n.active().blacklistsApp.toastr.warning.invalidNumbers.replace("{{variable}}",b.join(", ")))),i.renderWizardNumbersList(t,s)}),t.on("click",".remove-number",function(e){e.preventDefault();var a=n(this),r=a.parent(".list-item").data("number");delete s.data.blacklist.numbers[r],l.isEmpty(s.data.blacklist.numbers)&&t.find("#create").prop("disabled",!0),i.renderWizardNumbersList(t,s)}),t.find("#back").on("click",function(t){t.preventDefault(),i.renderWizardConfigure(s)}),t.find("#create").on("click",function(t){t.preventDefault(),n(this).prop("disabled",!0),i.helperAddBlacklist(s)}),t.find("#cancel").on("click",function(t){t.preventDefault(),i.renderListing(s)})},bindEditEvents:function(t,s){var i=this;t.on("click",".remove-number",function(e){e.preventDefault();var a=n(this),r=a.parent(".list-item").data("number");delete s.data.blacklist.numbers[r],l.isEmpty(s.data.blacklist.numbers)&&t.find("#save").prop("disabled",!0),i.renderWizardNumbersList(t,s,{hideTitle:!0})}),t.find("#show_textarea").on("click",function(l){l.preventDefault(),n(this).hide(),t.find(".textarea-wrapper").fadeIn(250)}),t.find("#add_numbers").on("click",function(r){r.preventDefault();var c,u=t.find("#form_edit_numbers"),o=a.ui.getFormData("form_edit_numbers"),d={},b=[];a.ui.validate(u,{rules:{numbers:{required:!0}}}),a.ui.valid(u)&&(o.numbers=o.numbers.replace(/[\n]/g," "),o.numbers=o.numbers.replace(/[-().]/g,"").split(" "),l.each(o.numbers,function(t){c=a.util.getFormatPhoneNumber(t),c.hasOwnProperty("e164Number")?d[c.e164Number]={}:b.push(t)}),t.find("#numbers").val(""),t.find("#save").prop("disabled",l.isEmpty(d)&&l.isEmpty(s.data.blacklist.numbers)),n.extend(!0,s,{data:{blacklist:{numbers:d}}}),l.isEmpty(b)||e.warning(i.i18n.active().blacklistsApp.toastr.warning.invalidNumbers.replace("{{variable}}",b.join(", ")))),i.renderWizardNumbersList(t,s,{hideTitle:!0})}),t.find("#delete").on("click",function(t){t.preventDefault(),n(this).prop("disabled",!0),i.requestDeleteBlacklist({data:{blacklistId:s.data.blacklistId},success:function(){i.renderListing(s)}})}),t.find("#cancel").on("click",function(t){t.preventDefault(),i.renderListing(s)}),t.find("#save").on("click",function(l){l.preventDefault();var e=t.find("#form_configure"),r=a.ui.getFormData("form_configure");a.ui.validate(e,{rules:{"blacklist.name":{required:!0,minlength:1,maxlength:128}}}),a.ui.valid(e)&&(n(this).prop("disabled",!0),i.helperUpdateBlacklist(n.extend(!0,s,{data:{blacklist:r.blacklist}})))})},helperAddBlacklist:function(t){var l=this,e=t.data.blacklist,s=e.extra.enabled,i=[];delete e.extra,i.push(function(t){l.requestCreateBlacklist({data:{data:e},success:function(n){t(null,n)}})}),s&&i.push(function(e,a){l.requestPatchAccount({data:{data:n.extend(!0,t.data.account,{blacklists:[e.id]})},success:function(){a(null)}})}),a.waterfall(i,function(n,e){l.renderListing(t)})},helperUpdateBlacklist:function(t){var e=this,s=t.data.account,i=t.data.blacklist,r=i.extra.enabled,c=[];delete i.extra,c.push(function(t){e.requestUpdateBlacklist({data:{data:i},success:function(){t(null)}})}),r?l.includes(s.blacklists,i.id)||c.push(function(t){e.requestPatchAccount({data:{data:n.extend(!0,s,{blacklists:[i.id]})},success:function(){t(null)}})}):s.hasOwnProperty("blacklists")&&l.includes(s.blacklists,i.id)&&(s.blacklists.splice(l.indexOf(s.blacklists,i.id),1),c.push(function(t){e.requestUpdateAccount({data:{data:s},success:function(){t(null)}})})),a.parallel(c,function(n,l){e.renderListing(t)})},requestGetAccount:function(t){var l=this;l.callApi({resource:"account.get",data:n.extend(!0,{accountId:l.accountId},t.data),success:function(n,l){t.hasOwnProperty("success")&&t.success(n.data)},error:function(n){t.hasOwnProperty("error")&&t.error(n)}})},requestUpdateAccount:function(t){var l=this;l.callApi({resource:"account.update",data:n.extend(!0,{accountId:l.accountId},t.data),success:function(n,l){t.hasOwnProperty("success")&&t.success(n.data)},error:function(n){t.hasOwnProperty("error")&&t.error(n)}})},requestPatchAccount:function(t){var l=this;l.callApi({resource:"account.patch",data:n.extend(!0,{accountId:l.accountId},t.data),success:function(n,l){t.hasOwnProperty("success")&&t.success(n.data)},error:function(n){t.hasOwnProperty("error")&&t.error(n)}})},requestCreateBlacklist:function(t){var l=this;l.callApi({resource:"blacklist.create",data:n.extend(!0,{accountId:l.accountId},t.data),success:function(n,l){t.hasOwnProperty("success")&&t.success(n.data)},error:function(n){t.hasOwnProperty("error")&&t.error(n)}})},requestListBLacklists:function(t){var l=this;l.callApi({resource:"blacklist.list",data:n.extend(!0,{accountId:l.accountId},t.data),success:function(n,l){t.hasOwnProperty("success")&&t.success(n.data)},error:function(n){t.hasOwnProperty("error")&&t.error(n)}})},requestGetBlacklist:function(t){var l=this;l.callApi({resource:"blacklist.get",data:n.extend(!0,{accountId:l.accountId},t.data),success:function(n,l){t.hasOwnProperty("success")&&t.success(n.data)},error:function(n){t.hasOwnProperty("error")&&t.error(n)}})},requestUpdateBlacklist:function(t){var l=this;l.callApi({resource:"blacklist.update",data:n.extend(!0,{accountId:l.accountId},t.data),success:function(n,l){t.hasOwnProperty("success")&&t.success(n.data)},error:function(n){t.hasOwnProperty("error")&&t.error(n)}})},requestDeleteBlacklist:function(t){var l=this;l.callApi({resource:"blacklist.delete",data:n.extend(!0,{accountId:l.accountId},t.data),success:function(n,l){t.hasOwnProperty("success")&&t.success(n.data)},error:function(n){t.hasOwnProperty("error")&&t.error(n)}})}}}),this.monster=this.monster||{},this.monster.cache=this.monster.cache||{},this.monster.cache.templates=this.monster.cache.templates||{},this.monster.cache.templates.blacklists=this.monster.cache.templates.blacklists||{},this.monster.cache.templates.blacklists._main=this.monster.cache.templates.blacklists._main||{},this.monster.cache.templates.blacklists._main.edit=Handlebars.template({1:function(t,n,l,e,a){var s;return'\t\t\t\t\t\t\t<input type="checkbox" name="blacklist.should_block_anonymous" id="should_block_anonymous"'+(null!=(s=l.if.call(null!=n?n:t.nullContext||{},null!=(s=null!=n?n.blacklist:n)?s.should_block_anonymous:s,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")+">\n"},2:function(t,n,l,e,a){return" checked"},4:function(t,n,l,e,a){var s;return'\t\t\t\t\t\t\t<input type="checkbox" name="blacklist.extra.enabled" id="enabled"'+(null!=(s=l.if.call(null!=n?n:t.nullContext||{},null!=(s=null!=(s=null!=n?n.blacklist:n)?s.extra:s)?s.enabled:s,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")+">\n"},compiler:[7,">= 4.0.0"],main:function(t,n,l,e,a){var s,i,r,c=t.lambda,u=t.escapeExpression,o=null!=n?n:t.nullContext||{},d=l.helperMissing,b=l.blockHelperMissing,p='<div class="app-content monster-card">\n\t<header>\n\t\t<h3 class="title">\n\t\t\t'+u(c(null!=(s=null!=n?n.blacklist:n)?s.name:s,n))+'\n\t\t</h3>\n\t\t<h4 class="subtitle"></h4>\n\t</header>\n\t<div class="content-wrapper">\n\t\t<div class="row-fluid">\n\t\t\t<div class="span6">\n\t\t\t\t<form class="form form-horizontal monster-form" id="form_configure">\n\t\t\t\t\t<legend>\n\t\t\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.edit:s)?s.titles:s)?s.details:s,n))+'\n\t\t\t\t\t</legend>\n\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label for="name" class="control-label">\n\t\t\t\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.misc:s)?s.name:s,n))+'\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t<input type="text" name="blacklist.name" id="name" value="'+u(c(null!=(s=null!=n?n.blacklist:n)?s.name:s,n))+'">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label for="should_block_anonymous" class="control-label">\n\t\t\t\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.configure:s)?s.labels:s)?s.block:s,n))+'\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class="controls">\n';return i=null!=(i=l.monsterSwitch||(null!=n?n.monsterSwitch:n))?i:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},s="function"==typeof i?i.call(o,r):i,l.monsterSwitch||(s=b.call(n,s,r)),null!=s&&(p+=s),p+='\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label for="enabled" class="control-label">\n\t\t\t\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.misc:s)?s.enabled:s,n))+'\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class="controls">\n',i=null!=(i=l.monsterSwitch||(null!=n?n.monsterSwitch:n))?i:d,r={name:"monsterSwitch",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a},s="function"==typeof i?i.call(o,r):i,l.monsterSwitch||(s=b.call(n,s,r)),null!=s&&(p+=s),p+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div class="span6 numbers-selector">\n\t\t\t\t<form class="form monster-form" id="form_edit_numbers">\n\t\t\t\t\t<legend>\n\t\t\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.edit:s)?s.titles:s)?s.numbers:s,n))+'\n\t\t\t\t\t</legend>\n\t\t\t\t\t<div class="numbers-list-wrapper"></div>\n\t\t\t\t\t<a href="javascript:void(0);" id="show_textarea">\n\t\t\t\t\t\t<i class="icon-telicon-plus-circled"></i>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.numbers:s)?s.buttons:s)?s.addNumbers:s,n))+'\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class="textarea-wrapper">\n\t\t\t\t\t\t<textarea name="numbers" id="numbers" rows="3"></textarea>\n\t\t\t\t\t\t<button class="monster-button-primary" id="add_numbers">\n\t\t\t\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.numbers:s)?s.buttons:s)?s.addNumbers:s,n))+'\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="actions">\n\t\t\t<button class="monster-button-danger" id="delete">\n\t\t\t\t'+u(c(null!=(s=null!=n?n.i18n:n)?s.delete:s,n))+'\n\t\t\t</button>\n\t\t\t<div class="pull-right">\n\t\t\t\t<button class="monster-button" id="cancel">\n\t\t\t\t\t'+u(c(null!=(s=null!=n?n.i18n:n)?s.cancel:s,n))+'\n\t\t\t\t</button>\n\t\t\t\t<button class="monster-button-primary" id="save">\n\t\t\t\t\t'+u(c(null!=(s=null!=n?n.i18n:n)?s.saveChanges:s,n))+"\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.blacklists._main.listing=Handlebars.template({1:function(t,n,l,e,a){var s,i=t.lambda,r=t.escapeExpression;return'\t<div class="monster-table-wrapper">\n\t\t<div class="monster-table-header">\n\t\t\t<button class="monster-button-primary new-blacklist">\n\t\t\t\t'+r(i(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.listing:s)?s.button:s,n))+'\n\t\t\t</button>\n\t\t</div>\n\t\t<table id="blacklists" class="monster-table footable">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th data-type="html">\n\t\t\t\t\t\t'+r(i(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.misc:s)?s.enabled:s,n))+"\n\t\t\t\t\t</th>\n\t\t\t\t\t<th>\n\t\t\t\t\t\t"+r(i(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.misc:s)?s.name:s,n))+'\n\t\t\t\t\t</th>\n\t\t\t\t\t<th data-type="html"></th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n'+(null!=(s=l.each.call(null!=n?n:t.nullContext||{},null!=n?n.blacklists:n,{name:"each",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")+"\t\t\t</tbody>\n\t\t</table>\n\t</div>\n"},2:function(t,n,l,e,a){var s,i,r,c=null!=n?n:t.nullContext||{},u=l.helperMissing,o=t.escapeExpression,d='\t\t\t\t<tr data-id="'+o((i=null!=(i=l.id||(null!=n?n.id:n))?i:u,"function"==typeof i?i.call(c,{name:"id",hash:{},data:a}):i))+'">\n\t\t\t\t\t<td>\n';return i=null!=(i=l.monsterSwitch||(null!=n?n.monsterSwitch:n))?i:u,r={name:"monsterSwitch",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a},s="function"==typeof i?i.call(c,r):i,l.monsterSwitch||(s=l.blockHelperMissing.call(n,s,r)),null!=s&&(d+=s),d+"\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t"+o((i=null!=(i=l.name||(null!=n?n.name:n))?i:u,"function"==typeof i?i.call(c,{name:"name",hash:{},data:a}):i))+'\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class="actions">\n\t\t\t\t\t\t<i class="fa fa-cog action-item edit-blacklist"></i>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n'},3:function(t,n,l,e,a){var s;return'\t\t\t\t\t\t<input class="toggle-blacklist" type="checkbox" name="enabled"'+(null!=(s=l.if.call(null!=n?n:t.nullContext||{},null!=n?n.enabled:n,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?s:"")+" />\n"},4:function(t,n,l,e,a){return" checked"},6:function(t,n,l,e,a){var s,i=t.lambda,r=t.escapeExpression;return'\t<div class="empty-listing">\n\t\t<i class="icon-telicon-list iconography"></i>\n\t\t<h4 class="title">\n\t\t\t'+r(i(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.listing:s)?s.empty:s)?s.title:s,n))+'\n\t\t</h4>\n\t\t<p class="text">\n\t\t\t'+r(i(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.listing:s)?s.empty:s)?s.text:s,n))+'\n\t\t</p>\n\t\t<button class="monster-button-primary new-blacklist">\n\t\t\t'+r(i(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.listing:s)?s.button:s,n))+"\n\t\t</button>\n\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,n,l,e,a){var s;return'<div class="app-content">\n'+(null!=(s=l.if.call(null!=n?n:t.nullContext||{},null!=n?n.blacklists:n,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(6,a,0),data:a}))?s:"")+"</div>\n"},useData:!0}),this.monster.cache.templates.blacklists._main["wizard-configure"]=Handlebars.template({1:function(t,n,l,e,a){var s;return'\t\t\t\t<input type="checkbox" name="blacklist.should_block_anonymous" id="should_block_anonymous"'+(null!=(s=l.if.call(null!=n?n:t.nullContext||{},null!=(s=null!=n?n.blacklist:n)?s.should_block_anonymous:s,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")+">\n"},2:function(t,n,l,e,a){return" checked"},4:function(t,n,l,e,a){var s;return'\t\t\t\t<input type="checkbox" name="blacklist.extra.enabled" id="enabled"'+(null!=(s=l.if.call(null!=n?n:t.nullContext||{},null!=(s=null!=(s=null!=n?n.blacklist:n)?s.extra:s)?s.enabled:s,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")+">\n"},compiler:[7,">= 4.0.0"],main:function(t,n,l,e,a){var s,i,r,c=t.lambda,u=t.escapeExpression,o=null!=n?n:t.nullContext||{},d=l.helperMissing,b=l.blockHelperMissing,p='<div class="app-content wizard">\n\t<h3 class="title">\n\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.configure:s)?s.title:s,n))+'\n\t</h3>\n\t<p class="text"></p>\n\t<form class="form-horizontal" id="form_configure">\n\t\t<div class="control-group">\n\t\t\t<label for="name" class="control-label">\n\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.misc:s)?s.name:s,n))+'\n\t\t\t</label>\n\t\t\t<div class="controls">\n\t\t\t\t<input type="text" name="blacklist.name" id="name" value="'+u(c(null!=(s=null!=n?n.blacklist:n)?s.name:s,n))+'">\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-group">\n\t\t\t<label for="should_block_anonymous" class="control-label">\n\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.configure:s)?s.labels:s)?s.block:s,n))+'\n\t\t\t</label>\n\t\t\t<div class="controls">\n';return i=null!=(i=l.monsterSwitch||(null!=n?n.monsterSwitch:n))?i:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},s="function"==typeof i?i.call(o,r):i,l.monsterSwitch||(s=b.call(n,s,r)),null!=s&&(p+=s),p+='\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-group">\n\t\t\t<label for="enabled" class="control-label">\n\t\t\t\t'+u(c(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.configure:s)?s.labels:s)?s.enable:s,n))+'\n\t\t\t</label>\n\t\t\t<div class="controls">\n',i=null!=(i=l.monsterSwitch||(null!=n?n.monsterSwitch:n))?i:d,r={name:"monsterSwitch",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a},s="function"==typeof i?i.call(o,r):i,l.monsterSwitch||(s=b.call(n,s,r)),null!=s&&(p+=s),p+'\t\t\t</div>\n\t\t</div>\n\t\t<div class="actions">\n\t\t\t<button class="monster-button-primary" id="next">\n\t\t\t\t'+u(c(null!=(s=null!=n?n.i18n:n)?s.next:s,n))+'\n\t\t\t</button>\n\t\t\t<a href="javascript:void(0);" id="cancel">\n\t\t\t\t'+u(c(null!=(s=null!=n?n.i18n:n)?s.cancel:s,n))+"\n\t\t\t</a>\n\t\t</div>\n\t</form>\n</div>\n"},useData:!0}),this.monster.cache.templates.blacklists._main["wizard-numbers-list"]=Handlebars.template({1:function(t,n,l,e,a){var s;return'<h4 class="title">\n\t'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.numbers:s)?s.titles:s)?s.numbersOn:s,n))+(null!=(s=l.if.call(null!=n?n:t.nullContext||{},null!=(s=null!=(s=null!=n?n.blacklist:n)?s.extra:s)?s.numbers_count:s,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")+"\n</h4>\n"},2:function(t,n,l,e,a){var s;return" ("+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.blacklist:n)?s.extra:s)?s.numbers_count:s,n))+")"},4:function(t,n,l,e,a){var s;return'\t<ul class="numbers-list">\n'+(null!=(s=l.each.call(null!=n?n:t.nullContext||{},null!=(s=null!=n?n.blacklist:n)?s.numbers:s,{name:"each",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?s:"")+"\t</ul>\n"},5:function(t,n,l,e,a){var s,i,r=null!=n?n:t.nullContext||{},c=l.helperMissing;return'\t\t<li class="list-item" data-number="'+t.escapeExpression((i=null!=(i=l.key||a&&a.key)?i:c,"function"==typeof i?i.call(r,{name:"key",hash:{},data:a}):i))+'">\n\t\t\t'+(null!=(s=(l.monsterNumberWrapper||n&&n.monsterNumberWrapper||c).call(r,a&&a.key,{name:"monsterNumberWrapper",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?s:"")+' <i class="icon-telicon-x-circled remove-number"></i>\n\t\t</li>\n'},6:function(t,n,l,e,a){return""},8:function(t,n,l,e,a){var s;return'\t<p class="empty-list">\n\t\t'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.numbers:s)?s.emptyList:s,n))+"\n\t</p>\n"},compiler:[7,">= 4.0.0"],main:function(t,n,l,e,a){var s,i=null!=n?n:t.nullContext||{};return(null!=(s=l.unless.call(i,null!=(s=null!=n?n.options:n)?s.hideTitle:s,{name:"unless",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+(null!=(s=l.if.call(i,null!=(s=null!=(s=null!=n?n.blacklist:n)?s.extra:s)?s.numbers_count:s,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.program(8,a,0),data:a}))?s:"")},useData:!0}),this.monster.cache.templates.blacklists._main["wizard-numbers"]=Handlebars.template({1:function(t,n,l,e,a){return" disabled"},compiler:[7,">= 4.0.0"],main:function(t,n,l,e,a){var s,i=t.lambda,r=t.escapeExpression;return'<div class="app-content wizard">\n\t<h3 class="title">\n\t\t'+r(i(null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.numbers:s)?s.title:s,n))+'\n\t</h3>\n\t<p class="text"></p>\n\t<div class="numbers-selector">\n\t\t<form class="form" id="form_add_numbers">\n\t\t\t<h4 class="title">\n\t\t\t\t'+r(i(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.numbers:s)?s.titles:s)?s.enterNumbers:s,n))+'\n\t\t\t</h4>\n\t\t\t<textarea name="numbers" id="numbers" rows="3"></textarea>\n\t\t\t<button class="monster-button-primary" id="add_numbers">\n\t\t\t\t'+r(i(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.numbers:s)?s.buttons:s)?s.addNumbers:s,n))+'\n\t\t\t</button>\n\t\t</form>\n\t\t<div class="numbers-list-wrapper"></div>\n\t</div>\n\t<div class="actions">\n\t\t<button class="monster-button" id="back">\n\t\t\t'+r(i(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.numbers:s)?s.buttons:s)?s.back:s,n))+'\n\t\t</button>\n\t\t<button class="monster-button-success" id="create"'+(null!=(s=l.if.call(null!=n?n:t.nullContext||{},null!=n?n.noNumber:n,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+">\n\t\t\t"+r(i(null!=(s=null!=(s=null!=(s=null!=(s=null!=(s=null!=n?n.i18n:n)?s.blacklistsApp:s)?s.wizard:s)?s.numbers:s)?s.buttons:s)?s.create:s,n))+'\n\t\t</button>\n\t\t<a href="javascript:void(0);" id="cancel">\n\t\t\t'+r(i(null!=(s=null!=n?n.i18n:n)?s.cancel:s,n))+"\n\t\t</a>\n\t</div>\n</div>\n"},useData:!0});