define("apps/migration/app",["require","jquery","lodash","monster","toastr"],function(t){var l=t("jquery"),n=t("lodash"),a=t("monster"),e=t("toastr");return{name:"migration",css:["app"],i18n:{"en-US":{customCss:!1}},requests:{},subscribe:{},appFlags:{listNumbers:[]},load:function(t){var l=this;l.initApp(function(){t&&t(l)})},initApp:function(t){var l=this;a.pub("auth.initApp",{app:l,callback:t})},render:function(t,n){var e=this,i=t||l("#monster_content"),o=l(a.template(e,"app"));e.loadAccountTreeData(function(t){e.renderAccountTree(o.find(".account-tree-content"),t),o.find(".account-tree-node:first").addClass("open"),i.empty().append(o),e.bindEvents({parent:i,template:o,treeData:t})})},renderAccountTree:function(t,e){var i=this;n.each(n.chain(e).toArray().sortBy("name").value(),function(n){var e=l(a.template(i,"tree-node",n));t.append(e),n.children&&i.renderAccountTree(e.find(".account-children"),n.children)})},bindEvents:function(t){var n=this,e=t.parent,i=t.template,o=i.find(".account-tree-container");a.ui.tooltips(o,{options:{container:"body"}}),o.find(".expand-link, .collapse-link").on("click",function(){l(this).closest(".account-tree-node").toggleClass("open")}),o.find(".expand-all").on("click",function(){o.find(".account-tree-node").addClass("open")}),o.find(".collapse-all").on("click",function(){o.find(".account-tree-node").removeClass("open")}),o.on("click",".account-link",function(){var t=l(this).data("id");n.getAccountDetails(t,function(t){n.loadTakenExtensions(t);var o=l(a.template(n,"account-details",n.formatAccountDetailsData(t)));i.find(".migration-instructions").hide(),i.find(".account-details").empty().append(o).show(),o.find(".cancel-details").on("click",function(){i.find(".account-details").empty().hide(),i.find(".migration-instructions").show()}),o.find(".start-migration").on("click",function(){n.renderWizard({parent:e,accountData:t})})})})},formatAccountDetailsData:function(t){return{accountName:t.account.name,accountRealm:t.account.realm,accountId:t.account.id,userCount:n.size(t.users),voicemailCount:n.size(t.voicemails),deviceCount:n.size(t.devices),groupCount:n.size(t.groups),callflowCount:n.size(t.callflows)}},loadAccountTreeData:function(t){var l=this;l.callApi({resource:"account.listDescendants",data:{accountId:l.accountId,filters:{paginate:!1}},success:function(e,i){var o=n.sortBy(e.data,function(t){return t.tree.length}),s={},r={},u=a.apps.auth.currentAccount;n.each(o,function(t){if(t.tree=t.tree.slice(t.tree.indexOf(l.accountId)+1),0===t.tree.length)s[t.id]=t;else{var n=s[t.tree[0]];if(void 0!==n){for(var a=1;a<t.tree.length;a++)void 0!==n&&(n=n.children[t.tree[a]]);void 0===n||"children"in n||(n.children={}),void 0!==n&&(n.children[t.id]=t)}}}),r[l.accountId]={name:u.name,realm:u.realm,children:s,id:u.id},t&&t(r,i)}})},getAccountDetails:function(t,l){var e=this;a.parallel({account:function(l){e.callApi({resource:"account.get",data:{accountId:t},success:function(t,n){l&&l(null,t.data)}})},users:function(l){e.callApi({resource:"user.list",data:{accountId:t,filters:{paginate:!1}},success:function(t,a){l&&l(null,n.keyBy(t.data,"id"))}})},devices:function(l){e.callApi({resource:"device.list",data:{accountId:t,filters:{paginate:!1}},success:function(t,a){l&&l(null,n.keyBy(t.data,"id"))}})},callflows:function(l){e.callApi({resource:"callflow.list",data:{accountId:t,filters:{paginate:!1}},success:function(t,a){l&&l(null,n.keyBy(t.data,"id"))}})},voicemails:function(l){e.callApi({resource:"voicemail.list",data:{accountId:t,filters:{paginate:!1}},success:function(t,a){l&&l(null,n.keyBy(t.data,"id"))}})},groups:function(l){e.callApi({resource:"group.list",data:{accountId:t,filters:{paginate:!1}},success:function(i,o){if(i.data.length){var s={};n.each(i.data,function(l){s[l.id]=function(n){e.callApi({resource:"group.get",data:{accountId:t,groupId:l.id},success:function(t,l){n&&n(null,t.data)},error:function(t,l){n&&n(null,null)}})}}),a.parallel(s,function(t,n){l&&l(null,n)})}else l&&l(null,{})}})},menus:function(l){e.callApi({resource:"menu.list",data:{accountId:t,filters:{paginate:!1}},success:function(t,a){l&&l(null,n.keyBy(t.data,"id"))}})},faxboxes:function(l){e.callApi({resource:"faxbox.list",data:{accountId:t,filters:{paginate:!1}},success:function(t,a){l&&l(null,n.keyBy(t.data,"id"))}})}},function(t,n){l&&l(n)})},renderWizard:function(t){var n=this,e=t.parent,i=t.accountData,o=l(a.template(n,"wizard-layout"));n.loadCallflowDetails(i,function(a){i.callflowData=a,n.bindWizardEvents(l.extend(!0,{template:o},t)),n.changeWizardStep(1,o,i),n.renderWizardStepUsers({template:o,accountData:i}),n.renderWizardStepGroups({template:o,accountData:i}),n.renderWizardStepFaxing({template:o,accountData:i}),e.empty().append(o)})},bindWizardEvents:function(t){var n=this,a=t.parent,e=t.template,i=t.accountData;e.find(".next-step").on("click",function(){var t=parseInt(e.find(".wizard-top-bar").data("active_step")),l=t+1;n.validateWizardStep(t,e,i)&&n.changeWizardStep(l,e,i)}),e.find(".prev-step").on("click",function(){var t=parseInt(e.find(".wizard-top-bar").data("active_step")),l=t-1;n.validateWizardStep(t,e,i)||e.find(".step:gt("+l+")").removeClass("completed"),n.changeWizardStep(l,e,i)}),e.find(".step").on("click",function(){var t=e.find(".wizard-top-bar").data("active_step"),a=l(this).data("step");l(this).hasClass("completed")&&t!==a&&(a<t?(n.validateWizardStep(t,e,i)||e.find(".step:gt("+a+")").removeClass("completed"),n.changeWizardStep(a,e,i)):n.validateWizardStep(t,e,i)&&n.changeWizardStep(a,e,i))}),e.find(".cancel").on("click",function(){n.render(a)}),e.find(".submit-btn").on("click",function(){n.processDataMigration({parent:a,template:e,accountData:i})}),e.on("click",".terminate-migration",function(){n.render(a,i.account.id)})},changeWizardStep:function(t,l,n){var a=this,e=l.find(".wizard-top-bar"),i=parseInt(e.data("max_step")),o=parseInt(e.data("active_step"));l.find(".step").removeClass("active"),l.find('.step[data-step="'+t+'"]').addClass("active");for(var s=t<i?t:t-1;s>=1;--s)l.find('.step[data-step="'+s+'"]').addClass("completed");l.find(".wizard-content-step").hide(),l.find('.wizard-content-step[data-step="'+t+'"]').show(),t===i?(l.find(".next-step").hide(),l.find(".submit-btn").show(),a.renderWizardStepSummary({template:l,accountData:n})):(l.find(".next-step").show(),l.find(".submit-btn").hide(),t===i-1&&o<t&&a.renderWizardStepMainNumber({template:l,accountData:n})),1===t?(l.find(".prev-step").hide(),l.find(".cancel").show()):(l.find(".prev-step").show(),l.find(".cancel").hide()),e.data("active_step",t)},validateWizardStep:function(t,l){return!0},renderWizardStepUsers:function(t){var n=this,e=t.template,i=t.accountData,o=l(a.template(n,"wizard-step-users",n.formatStepUsersData(i)));e.find(".wizard-step-users").empty().append(o),n.bindWizardStepUsersEvents({template:o,accountData:i})},bindWizardStepUsersEvents:function(t){var l=t.template;l.find(".migrate-all").on("click",function(){l.find('.callflow-migration input[type="checkbox"]').prop("checked",!0)}),l.find(".migrate-none").on("click",function(){l.find('.callflow-migration input[type="checkbox"]').prop("checked",!1)})},formatStepUsersData:function(t){var l={userCallflows:[]};return t.callflowData.userCallflows&&(l.userCallflows=n.map(t.callflowData.userCallflows.available||[],function(l,n){return{name:l.callflow.name,numbers:l.numbers,userName:t.users.hasOwnProperty(l.userId)?t.users[l.userId].first_name+" "+t.users[l.userId].last_name:"-",callflowId:l.callflow.id}})),l.userCallflows=l.userCallflows.concat(n.map(t.callflowData.deviceCallflows||[],function(l,n){return{name:l.callflow.name,numbers:l.numbers,userName:t.users[l.userId].first_name+" "+t.users[l.userId].last_name,callflowId:l.callflow.id}})),l},renderWizardStepGroups:function(t){var n=this,e=t.template,i=t.accountData,o=l(a.template(n,"wizard-step-groups",n.formatStepGroupsData(i)));e.find(".wizard-step-groups").empty().append(o),n.bindWizardStepGroupsEvents({template:o,accountData:i})},bindWizardStepGroupsEvents:function(t){var n=t.template;n.find(".migrate-all").on("click",function(){l(this).parents(".callflow-list").find('.callflow-migration input[type="checkbox"]').prop("checked",!0)}),n.find(".migrate-none").on("click",function(){l(this).parents(".callflow-list").find('.callflow-migration input[type="checkbox"]').prop("checked",!1)})},formatStepGroupsData:function(t){var l={groupCallflows:{}};return"groupCallflows"in t.callflowData&&(n.each(t.callflowData.groupCallflows.available,function(a,e){l.groupCallflows[e]={name:a.callflow.name,numbers:a.numbers,users:n.map(a.newEndpoints,function(l){var n="["+l.endpoint_type+"]";return"user"===l.endpoint_type&&t.users.hasOwnProperty(l.id)&&(n=t.users[l.id].first_name+" "+t.users[l.id].last_name),n}).sort(),affectedCallflows:n.map(a.affectedCallflows,function(l){return{name:t.callflowData.callflowMap[l.callflowId].name,numbers:t.callflowData.callflowMap[l.callflowId].numbers.join(", ")}})}}),n.each(t.callflowData.groupCallflows.extra,function(a,e){l.groupCallflows[e]={name:a.callflow.name,numbers:a.numbers,users:n.map(a.callflow.flow.data.endpoints,function(l){var n="["+l.endpoint_type+"]";return"user"===l.endpoint_type&&(n=t.users.hasOwnProperty(l.id)?t.users[l.id].first_name+" "+t.users[l.id].last_name:"-"),n}),affectedCallflows:n.map(a.affectedCallflows,function(l){return{name:t.callflowData.callflowMap[l.callflowId].name,numbers:t.callflowData.callflowMap[l.callflowId].numbers.join(", ")}})}})),l},renderWizardStepFaxing:function(t){var n=this,e=t.template,i=t.accountData,o=l(a.template(n,"wizard-step-faxing",n.formatStepFaxingData(i)));e.find(".wizard-step-faxing").empty().append(o),n.bindWizardStepFaxingEvents({template:o,accountData:i})},bindWizardStepFaxingEvents:function(t){var l=t.template;l.find(".migrate-all").on("click",function(){l.find('.callflow-migration input[type="checkbox"]').prop("checked",!0)}),l.find(".migrate-none").on("click",function(){l.find('.callflow-migration input[type="checkbox"]').prop("checked",!1)})},formatStepFaxingData:function(t){var l={faxingCallflows:[]};return t.callflowData.faxingCallflows&&(l.faxingCallflows=n.map(t.callflowData.faxingCallflows.faxbox||[],function(l,n){return{name:l.callflow.name,numbers:l.numbers,userName:t.users.hasOwnProperty(l.userId)?t.users[l.userId].first_name+" "+t.users[l.userId].last_name:"",callflowId:l.callflow.id}}).concat(n.map(t.callflowData.faxingCallflows.receive_fax||[],function(l,n){return{name:l.callflow.name,numbers:l.numbers,userName:t.users.hasOwnProperty(l.userId)?t.users[l.userId].first_name+" "+t.users[l.userId].last_name:"",callflowId:l.callflow.id}}))),l},renderWizardStepMainNumber:function(t){var n=this,e=t.template,i=t.accountData,o=l(a.template(n,"wizard-step-mainnumber",n.formatStepMainNumberData(i)));o.find(".main-callflow-detail").hide(),e.find(".wizard-step-mainnumber").empty().append(o),n.bindWizardStepMainNumberEvents({template:o,parent:e,accountData:i})},bindWizardStepMainNumberEvents:function(t){var n=t.template,a=n.find(".entity-select select");n.find('input[type="radio"]').on("change",function(){var t=l(this);"none"===t.val()?n.find(".main-callflow-detail").hide():(n.find(".main-callflow-detail").show(),n.find(".main-callflow-detail > .numbers").html(t.parents(".callflow-element").find(".callflow-numbers").html()))}),a.on("change",function(t){var n=l(this);n.siblings(".title").text(n.find("option:selected").closest("optgroup").prop("label"))}),a.change()},formatStepMainNumberData:function(t){var l=this,a={};return t.callflowData.hasMainNumber?a.hasMainNumber=!0:(a.callEntities=l.getMainNumberCallEntities(t),a.voicemails=t.voicemails,a.callflows=n.map(t.callflowData.unknownCallflows||[],function(t,l){return{id:l,name:t.callflow.name,numbers:t.numbers}}).concat(n.map(t.callflowData.groupCallflows.available,function(t,l){return{id:l,name:t.callflow.name,numbers:t.numbers}}))),a},getMainNumberCallEntities:function(t){var e=this,i=a.ui.getFormData("callflow_group_migration_form"),o=i.selectedGroupCallflows||[],s=[];if(t.users&&!n.isEmpty(t.users)&&s.push({groupName:e.i18n.active().migration.migrationWizard.stepMainNumber.callEntities.users,entities:n.map(t.users,function(t,l){return{id:l,module:"user",name:t.first_name+" "+t.last_name}})}),t.devices&&!n.isEmpty(t.devices)&&s.push({groupName:e.i18n.active().migration.migrationWizard.stepMainNumber.callEntities.devices,entities:n.map(t.devices,function(t,l){return{id:l,module:"device",name:t.name}})}),t.callflowData.hasOwnProperty("groupCallflows")){var r={groupName:e.i18n.active().migration.migrationWizard.stepMainNumber.callEntities.groups,entities:n.map(t.callflowData.groupCallflows.smartpbx||[],function(t,l){return{id:t.callflow.id,module:"callflow",name:t.callflow.name}}).concat(l.map(t.callflowData.groupCallflows.available||[],function(t,l){if(o.indexOf(l)>=0)return{id:l,module:"callflow",name:t.callflow.name||t.numbers}}))};r.entities.length&&s.push(r)}return s},renderWizardStepSummary:function(t){var e=this,i=t.template,o=t.accountData,s=a.ui.getFormData("callflow_user_migration_form"),r=a.ui.getFormData("callflow_group_migration_form"),u=a.ui.getFormData("callflow_faxing_migration_form"),c=i.find("#callflow_mainnumber_migration_form");o.summary={userCallflows:n.map(s.selectedCallflows||[],function(t){return t in o.callflowData.deviceCallflows?o.callflowData.deviceCallflows[t]:o.callflowData.userCallflows.available[t]}),groupCallflows:n.map(r.selectedGroupCallflows||[],function(t){var l=o.callflowData.groupCallflows;return l.extra&&t in l.extra?l.extra[t]:l.available[t]}),faxingCallflows:n.map(u.selectedCallflows||[],function(t){return(o.callflowData.faxingCallflows.faxbox||{}).hasOwnProperty(t)?o.callflowData.faxingCallflows.faxbox[t]:o.callflowData.faxingCallflows.receive_fax[t]}),mainCallflow:{id:a.ui.getFormData("callflow_mainnumber_migration_form").mainCallflowId,firstNode:{id:c.find(".entity-select option:selected").val(),module:c.find(".entity-select option:selected").data("module")},secondNode:{id:c.find(".voicemail-select option:selected").val(),module:c.find(".voicemail-select option:selected").data("module")}}};var d=e.formatStepSummaryData(o),m=l(a.template(e,"wizard-step-summary",d)),f=m.find(".main-callflow-content");"none"!==o.summary.mainCallflow.id&&(i.find(".wizard-step-mainnumber .main-callflow-detail").clone().appendTo(f),f.find("select").prop("disabled",!0),f.find('select[name="firstNode"] option[value="'+d.mainCallflow.firstNode.id+'"]').prop("selected",!0),f.find('select[name="secondNode"] option[value="'+d.mainCallflow.secondNode.id+'"]').prop("selected",!0)),i.find(".wizard-step-summary").empty().append(m)},formatStepSummaryData:function(t){var a=l.extend(!0,{},t.summary);return a.userCallflows=n.map(t.summary.userCallflows,function(l,n){return{name:l.callflow.name,numbers:l.numbers,userName:t.users.hasOwnProperty(l.userId)?t.users[l.userId].first_name+" "+t.users[l.userId].last_name:"-"}}),a.groupCallflows=n.map(a.groupCallflows,function(l){return{name:l.callflow.name,numbers:l.numbers,users:n.map((l.node||l.callflow.flow).data.endpoints,function(l){var n="["+l.endpoint_type+"]";return"user"===l.endpoint_type&&(n=t.users.hasOwnProperty(l.id)?t.users[l.id].first_name+" "+t.users[l.id].last_name:"-"),n}),affectedCallflows:n.map(l.affectedCallflows,function(l){return{name:t.callflowData.callflowMap[l.callflowId].name,numbers:t.callflowData.callflowMap[l.callflowId].numbers.join(", ")}})}}),a.faxingCallflows=n.map(t.summary.faxingCallflows,function(l,n){return{name:l.callflow.name,numbers:l.numbers,userName:t.users.hasOwnProperty(l.userId)?t.users[l.userId].first_name+" "+t.users[l.userId].last_name:""}}),"none"===t.summary.mainCallflow.id&&(a.skipMainNumber=!0),a},loadCallflowDetails:function(t,e){var i=this,o={},s={hasNoMatch:!1,hasMainNumber:!1,userCallflows:{},groupCallflows:{},deviceCallflows:{},unknownCallflows:{}},r=function(a){var e=[];return n.each(a.data.endpoints,function(a){var i=l.extend(!0,{},a);if("device"===i.endpoint_type){var o=!!t.devices.hasOwnProperty(i.id)&&t.devices[i.id].owner_id;o&&(i.endpoint_type="user",i.id=o,e.push(i))}else if("group"===i.endpoint_type){if(i.id in t.groups){var s=t.groups[i.id].endpoints;n.each(s,function(l,n){if("user"===l.type)e.push({id:n,endpoint_type:"user",delay:"0",timeout:"20"});else if("device"===l.type){var a=t.devices[n].owner_id;a&&e.push({id:a,endpoint_type:"user",delay:"0",timeout:"20"})}})}}else e.push(i)}),e};n.each(t.callflows,function(l){l.numbers&&l.numbers.length&&"no_match"===l.numbers[0]?s.hasNoMatch=!0:"main"===l.type&&"MainCallflow"===l.name?s.hasMainNumber=!0:l.featurecode||(o[l.id]=function(n){i.callApi({resource:"callflow.get",data:{accountId:t.account.id,callflowId:l.id},success:function(t,l){n&&n(null,t.data)}})})}),a.parallel(o,function(a,o){s.callflowMap=o,n.each(o,function(l,n){var a=i.identifyCallflow(l,t);if("deviceCallflows"===a.type){var e=!!t.devices.hasOwnProperty(a.deviceId)&&t.devices[a.deviceId].owner_id;e&&t.users.hasOwnProperty(e)?a.userId=e:a.type="unknownCallflows"}else"faxingCallflows"===a.type&&"faxbox"===a.status?(a.faxboxId&&(a.userId=t.faxboxes[a.faxboxId].owner_id),a.userId||(a.status="invalid")):"groupCallflows"===a.type&&(a.newEndpoints=r(a.node));a.type in s||(s[a.type]={}),a.hasOwnProperty("status")?(a.status in s[a.type]||(s[a.type][a.status]={}),s[a.type][a.status][n]=a):s[a.type][n]=a});var u=i.findExtraRingGroups(s.unknownCallflows);n.isEmpty(u)||"groupCallflows"in s||(s.groupCallflows={}),n.each(u,function(t){for(var a,e,o=["smartpbx","extra","available"];!e&&o.length;)a=o.shift(),e=n.find(s.groupCallflows[a],function(l){return n.isEqual(l.node,t.node)});if(e)e.affectedCallflows=(e.affectedCallflows||[]).concat(t);else{var u=l.extend(!0,{},t.node),c=i.getNextExtension();u.children={},"extra"in s.groupCallflows||(s.groupCallflows.extra={}),s.groupCallflows.extra["new_ring_group_"+c]={callflow:{numbers:[c],flow:u},newEndpoints:r(u),numbers:c,status:"extra",type:"groupCallflows",affectedCallflows:[t]}}}),e&&e(s)})},getNextExtension:function(){var t=this;return a.util.getNextExtension(t.appFlags.unavailableNumbers).toString()},loadTakenExtensions:function(t){var l=this,a=[],e=[];n.each(t.callflows,function(t){n.each(t.numbers,function(t){t.length<7&&a.push(t)})}),n.each(t.voicemails,function(t){e.push(t.mailbox)}),l.appFlags.unavailableNumbers=a.concat(e)},listCallflowModules:function(t){for(var l=t.flow,n=[l.module];l.children&&l.children._;)l=l.children._,n.push(l.module);return n},callflowRegexes:{user:new RegExp(/^(record_call;)?user(?:;record_call)?(;voicemail)?$/),device:new RegExp(/^(record_call;)?device(?:;record_call)?(;voicemail)?$/),group:new RegExp(/^(record_call;)?ring_group(?:;record_call)?(?:;(user|voicemail|menu))?$/),faxing:new RegExp(/^(receive_fax|faxbox)?$/)},identifyCallflow:function(t,l){var n=this,a={callflow:t,modules:n.listCallflowModules(t),numbers:t.numbers.join(", "),type:"unknownCallflows"},e=a.modules.join(";"),i=e.match(n.callflowRegexes.user),o=e.match(n.callflowRegexes.device),s=e.match(n.callflowRegexes.group),r=e.match(n.callflowRegexes.faxing);if("main"===t.type)a.type="mainCallflows";else if(t.ui_flags&&!0===t.ui_flags.migratedCallflow)a.type="migratedCallflows";else if(i){var u=n.findCallflowNode(t,"user").data.id;u&&l.users.hasOwnProperty(u)&&(a.type="userCallflows",i[1]&&(a.callRecording=!0),i[2]&&(a.voicemail=n.findCallflowNode(t,"voicemail").data.id),a.userId=n.findCallflowNode(t,"user").data.id,"mainUserCallflow"===t.type?a.status="smartpbx":a.status="available")}else if(o)a.type="deviceCallflows",o[1]&&(a.callRecording=!0),o[2]&&(a.voicemail=n.findCallflowNode(t,"voicemail").data.id),a.deviceId=n.findCallflowNode(t,"device").data.id;else if(r)a.type="faxingCallflows",t.numbers.length>1||t.numbers[0].length<=7?a.status="invalid":t.owner_id&&"faxing"===t.type?a.status="smartpbx":("faxbox"===r[1]?a.faxboxId=t.flow.data.id:a.userId=t.flow.data.owner_id,a.status=r[1]);else if(s&&(a.node=n.findCallflowNode(t,"ring_group"),a.node&&a.node.data)){if(a.type="groupCallflows",s[1]&&(a.callRecording=!0),s[2]){var c=n.findCallflowNode(t,s[2]);c.hasOwnProperty("data")&&(a.nextAction={type:s[2],id:c.data.id})}a.node=n.findCallflowNode(t,"ring_group"),a.node.data.ringback&&(a.ringback=!0),"baseGroup"===t.type?a.status="smartpbx":a.status="available"}return a},findExtraRingGroups:function(t){var l=this,a=[];return n.each(t,function(t,e){var i=l.findCallflowNode(t.callflow,"ring_group");i&&(n.isArray(i)||(i=[i]),n.each(i,function(t){a.push({node:t,callflowId:e})}))}),a},findCallflowNode:function(t,l,a){var e=[],i=function(t){t.module===l&&(a&&!n.isEqual(a,t.data)||e.push(t)),n.each(t.children,function(t){i(t)})};return i(t.flow),e.length>1?e:e[0]},processDataMigration:function(t){var n=this,e=t.template,i=t.accountData,o={},s={},r=[],u=l(a.template(n,"wizard-completion-view")),c=n.i18n.active().migration.migrationWizard.completionView.progressBar,d=function(t){var l=t||0;if(l<r.length){var e=r[l];u.find(".progress-title").html(c[e]),a.parallel(o[e],function(t,n){s[e]=n,u.find(".inner-progress-bar").width(100*(l+1)/r.length+"%"),d(l+1)})}else n.tagMigratedAccount(i.account,function(){u.find(".progress-title").html(c.complete),u.find(".inner-progress-bar").removeClass("animated"),setTimeout(function(){u.find(".migration-processing").hide(),u.find(".migration-complete").show()},1e3),clearInterval(f),u.find(".random-message").html("")})},m=c.randomMessages,f=setInterval(function(){u.find(".random-message").html(m[Math.floor(Math.random()*m.length)])},1500);i.summary.userCallflows&&i.summary.userCallflows.length&&(o.users=n.getUserMigrationFunctions(i),r.push("users")),i.summary.groupCallflows&&i.summary.groupCallflows.length&&(o.groups=n.getGroupMigrationFunctions(i),r.push("groups")),i.summary.faxingCallflows&&i.summary.faxingCallflows.length&&(o.faxing=n.getFaxingMigrationFunctions(i),r.push("faxing")),i.summary.mainCallflow&&"none"!==i.summary.mainCallflow.id&&(o.mainCallflow=n.getMainCallflowMigrationFunctions(i),r.push("mainCallflow")),e.empty().append(u),d()},getUserMigrationFunctions:function(t){var a=this,e={};return n.each(t.summary.userCallflows,function(i){var o=t.users[i.userId];if(o){var s=l.extend(!0,{},i.callflow),r=n.find(s.numbers,function(t){return t.length<=7});if(r||(r=a.getNextExtension(),s.numbers.push(r)),delete s.id,delete s.metadata,s.owner_id=o.id,s.type="mainUserCallflow",s.ui_flags=l.extend(!0,s.ui_flags||{},{migratedFrom:i.callflow.id}),s.name||(s.name=o.first_name+" "+o.last_name+a.i18n.active().migration.migrationWizard.callflows.userCallflowName),"deviceCallflows"===i.type){var u=a.findCallflowNode(s,"device");u.module="user",u.data.id=o.id}i.callflow.name&&(i.callflow.name="migrated_"+i.callflow.name),i.callflow.numbers=n.map(i.callflow.numbers,function(t){return"migrated_"+t}),i.callflow.ui_flags=l.extend(!0,i.callflow.ui_flags||{},{migratedCallflow:!0}),e["migrate_callflow_"+i.callflow.id]=function(l){a.callApi({resource:"callflow.update",data:{accountId:t.account.id,callflowId:i.callflow.id,data:i.callflow},success:function(n,e){a.callApi({resource:"callflow.create",data:{accountId:t.account.id,data:s},success:function(t,n){l&&l(null,t.data)},error:function(t,n){l&&l(null,null)}})},error:function(t,n){l&&l(null,null)}})},e["update_user_"+o.id]=function(n){a.callApi({resource:"user.get",data:{accountId:t.account.id,userId:o.id},success:function(e,o){var u=e.data,c=(u.first_name+" "+u.last_name).substring(0,15),d={caller_id:{internal:{name:c,number:s.numbers[0]},external:{name:c}},presence_id:r};i.callRecording&&(d.smartpbx={call_recording:{enabled:!0}}),a.callApi({resource:"user.update",data:{accountId:t.account.id,userId:u.id,data:l.extend(!0,{},u,d)},success:function(t,l){n&&n(null,t.data)},error:function(t,l){n&&n(null,null)}})},error:function(t,l){n&&n(null,null)}})}}}),e},getGroupMigrationFunctions:function(t){var e=this,i={};return n.each(t.summary.groupCallflows,function(o){var s=l.extend(!0,{},o.callflow),r=e.findCallflowNode(s,"ring_group");r.data.endpoints=o.newEndpoints;var u={numbers:[a.util.randomString(16)],flow:{module:"ring_group",children:{},data:l.extend(!0,{},r.data)},name:(s.name||s.numbers[0])+e.i18n.active().migration.migrationWizard.callflows.baseGroupName,type:"baseGroup",ui_flags:{migratedFrom:o.callflow.id}},c={name:s.name||s.numbers[0],endpoints:{},smartpbx:{call_recording:{enabled:!!o.callRecording},ringback:{enabled:!!o.ringback},next_action:{enabled:!!o.nextAction}},ui_flags:{migratedFrom:o.callflow.id}},d=function(i){e.callApi({resource:"group.create",data:{accountId:t.account.id,data:c},success:function(c,d){var m=c.data.id;u.group_id=m,s.group_id=m,e.callApi({resource:"callflow.create",data:{accountId:t.account.id,data:u},success:function(u,c){var d=u.data.id;r.module="callflow",r.data={id:d},e.callApi({resource:"callflow.create",data:{accountId:t.account.id,data:s},success:function(s,r){if(o.affectedCallflows&&!n.isEmpty(o.affectedCallflows)){var u={},c=function(a,i,o){var s=l.extend(!0,{},a,{ui_flags:{migratedFrom:i.callflowId}}),r=e.findCallflowNode(s,i.node.module,i.node.data);r.module="callflow",r.data={id:d},a.id===i.callflowId?(a.name&&(a.name="migrated_"+a.name),a.numbers=n.map(a.numbers,function(t){return"migrated_"+t}),a.ui_flags=l.extend(!0,a.ui_flags||{},{migratedCallflow:!0}),e.callApi({resource:"callflow.update",data:{accountId:t.account.id,callflowId:a.id,data:a},success:function(l,n){delete s.id,delete s.metadata,e.callApi({resource:"callflow.create",data:{accountId:t.account.id,data:s},success:function(t,l){o&&o(t.data)},error:function(t,l){o&&o(null)}})},error:function(t,l){o&&o(null)}})):e.callApi({resource:"callflow.update",data:{accountId:t.account.id,callflowId:s.id,data:s},success:function(t,l){o&&o(t.data)},error:function(t,l){o&&o(null)}})};n.each(o.affectedCallflows,function(l){"mainCallflow"in t.summary&&t.summary.mainCallflow.id===l.callflowId||(u[l.callflowId]=function(n){e.callApi({resource:"callflow.get",data:{accountId:t.account.id,callflowId:l.callflowId},success:function(a,i){a.data.ui_flags&&a.data.ui_flags.migratedCallflow?e.callApi({resource:"callflow.list",data:{accountId:t.account.id,filters:{"filter_ui_flags.migratedFrom":l.callflowId}},success:function(a,i){a.data.length?e.callApi({resource:"callflow.get",data:{accountId:t.account.id,callflowId:a.data[0].id},success:function(t,a){c(t.data,l,function(t){n&&n(null,t)})},error:function(t,l){n&&n(null,null)}}):n&&n(null,null)},error:function(t,l){n&&n(null,null)}}):c(a.data,l,function(t){n&&n(null,t)})},error:function(t,l){n&&n(null,null)}})})}),a.parallel(u,function(t){i&&i(null,t)})}else i&&i(null,s.data)},error:function(t,l){i&&i(null,null)}})},error:function(t,l){i&&i(null,null)}})},error:function(t,l){i&&i(null,null)}})};n.each(r.data.endpoints,function(t){c.endpoints[t.id]={type:t.endpoint_type}}),s.name=(s.name||s.numbers[0])+e.i18n.active().migration.migrationWizard.callflows.userGroupName,s.type="userGroup",l.extend(!0,s.ui_flags||{},{migratedFrom:o.callflow.id}),delete s.id,delete s.metadata,"available"===o.status?(o.callflow.name&&(o.callflow.name="migrated_"+o.callflow.name),o.callflow.numbers=n.map(o.callflow.numbers,function(t){return"migrated_"+t}),o.callflow.ui_flags=l.extend(!0,o.callflow.ui_flags||{},{migratedCallflow:!0}),i["migrate_group_callflow_"+o.callflow.id]=function(l){e.callApi({resource:"callflow.update",data:{accountId:t.account.id,callflowId:o.callflow.id,data:o.callflow},success:function(t,n){d(l)},error:function(t,n){l&&l(null,null)}})}):i["migrate_group_callflow_"+o.callflow.numbers[0]]=function(t){d(t)}}),i},getFaxingMigrationFunctions:function(t){var e=this,i={},o=function(l,n,i){l.faxboxId?e.callApi({resource:"faxbox.get",data:{accountId:t.account.id,faxboxId:l.faxboxId},success:function(n,o){n.data.caller_id=l.numbers,n.data.fax_identity=a.util.formatPhoneNumber(l.numbers),e.callApi({resource:"faxbox.update",data:{accountId:t.account.id,faxboxId:n.data.id,data:n.data},success:function(t,l){i&&i(t.data.id)},error:function(t,n){i&&i(l.faxboxId)}})},error:function(t,n){i&&i(l.faxboxId)}}):e.callApi({resource:"faxbox.create",data:{accountId:t.account.id,userId:n.id,data:{name:n.first_name.concat(" ",n.last_name,e.i18n.active().migration.migrationWizard.faxboxes.nameExtension),caller_name:n.first_name.concat(" ",n.last_name),fax_header:a.config.whitelabel.companyName.concat(e.i18n.active().migration.migrationWizard.faxboxes.headerExtension),fax_timezone:n.timezone,owner_id:n.id,notifications:{inbound:{email:{send_to:n.email||n.username}},outbound:{email:{send_to:n.email||n.username}}},caller_id:l.numbers,fax_identity:a.util.formatPhoneNumber(l.numbers),ui_flags:{migratedFrom:l.callflow.id}}},success:function(t,l){i&&i(t.data.id)}})};return n.each(t.summary.faxingCallflows,function(a){i["migrate_callflow_"+a.callflow.id]=function(i){e.callApi({resource:"user.get",data:{accountId:t.account.id,userId:a.userId},success:function(s,r){var u=s.data;o(a,u,function(o){var s="faxbox"===a.status?l.extend(!0,{},a.callflow):{numbers:[a.numbers],flow:{module:"faxbox",children:{},data:{id:o}}};s.type="faxing",s.owner_id=a.userId,s.ui_flags=l.extend(!0,s.ui_flags||{},{migratedFrom:a.callflow.id}),delete s.id,delete s.metadata,s.name||(s.name=u.first_name.concat(" ",u.last_name,e.i18n.active().migration.migrationWizard.faxboxes.nameExtension)),a.callflow.name&&(a.callflow.name="migrated_"+a.callflow.name),a.callflow.numbers=n.map(a.callflow.numbers,function(t){return"migrated_"+t}),a.callflow.ui_flags=l.extend(!0,a.callflow.ui_flags||{},{migratedCallflow:!0}),e.callApi({resource:"callflow.update",data:{accountId:t.account.id,callflowId:a.callflow.id,data:a.callflow},success:function(n,a){e.callApi({resource:"callflow.create",data:{accountId:t.account.id,data:s},success:function(n,a){s=n.data,l.extend(!0,u,{smartpbx:{faxing:{enabled:!0}}}),e.callApi({resource:"user.update",data:{accountId:t.account.id,userId:u.id,data:u},success:function(t,l){i&&i(null,s)},error:function(t,l){i&&i(null,null)}})},error:function(t,l){i&&i(null,null)}})},error:function(t,l){i&&i(null,null)}})})}})}}),i},getMainCallflowMigrationFunctions:function(t){var a=this,e={},i={contact_list:{exclude:!1},numbers:["MainOpenHours"],type:"main",flow:{children:{},data:{},module:""},ui_flags:{migratedFrom:t.summary.mainCallflow.id}};return"none"===t.summary.mainCallflow.firstNode.id?(i.flow.module=t.summary.mainCallflow.secondNode.module,i.flow.data.id=t.summary.mainCallflow.secondNode.id):(i.flow.module=t.summary.mainCallflow.firstNode.module,i.flow.data.id=t.summary.mainCallflow.firstNode.id,i.flow.children._={children:{},data:{id:t.summary.mainCallflow.secondNode.id},module:t.summary.mainCallflow.secondNode.module}),e.mainCallflow=function(e){a.callApi({resource:"callflow.create",data:{accountId:t.account.id,data:i},success:function(i,o){var s=i.data.id,r=t.callflowData.callflowMap[t.summary.mainCallflow.id],u=r.numbers;r.name&&(r.name="migrated_"+r.name),r.numbers=n.map(r.numbers,function(t){return"migrated_"+t}),r.ui_flags=l.extend(!0,r.ui_flags||{},{migratedCallflow:!0}),a.callApi({resource:"callflow.update",data:{accountId:t.account.id,callflowId:r.id,data:r},success:function(l,n){a.callApi({resource:"callflow.create",data:{accountId:t.account.id,data:{contact_list:{exclude:!1},numbers:["0"].concat(u),name:"MainCallflow",type:"main",flow:{children:{_:{children:{},data:{id:s},module:"callflow"}},data:{},module:"temporal_route"},ui_flags:{migratedFrom:t.summary.mainCallflow.id}}},success:function(t,l){e&&e(null,t.data)}})},error:function(t,l){e&&e(null,null)}})},error:function(t,l){e&&e(null,null)}})},e},getKazooUIMetadata:function(){return{version:"0.1",ui:"kazoo-ui"}},createKazooUIAccount:function(t){var l=this;l.callApi({resource:"account.create",data:{uiMetadata:l.getKazooUIMetadata(),accountId:l.accountId,data:{name:"Kazoo UI Account #"+a.util.randomString(4)}},success:function(l){t&&t(l.data)}})},createKazooUIUser:function(t,l,n){var e=this;e.callApi({
resource:"user.create",data:{uiMetadata:e.getKazooUIMetadata(),accountId:t,data:{first_name:"User",last_name:""+l,username:"kazoo"+a.util.randomString(6)+"@gmail.com"}},success:function(t){n&&n(t.data)}})},createKazooUIVMBox:function(t,l,n,e){var i=this;i.callApi({resource:"voicemail.create",data:{uiMetadata:i.getKazooUIMetadata(),accountId:t,data:{owner_id:n,mailbox:a.util.randomString(3,"1234567890"),name:"Kazoo UI VMBox #"+l}},success:function(t){e&&e(t.data)}})},createKazooUIDevice:function(t,l,n,a){var e=this;e.callApi({resource:"device.create",data:{uiMetadata:e.getKazooUIMetadata(),accountId:t,data:{device_type:"landline",owner_id:n,name:"Kazoo UI Device #"+l}},success:function(t){a&&a(t.data)}})},createEntityKazooUICallflow:function(t,n,e,i,o,s,r){var u=this,c=a.util.randomString(4,"1234567890"),d=void 0!==i,m=r||[],f=m.indexOf("call_recording")>=0,p={contact_list:{exclude:!1},flow:{children:{},data:{can_call_self:!1,timeout:20,id:e.id},module:t},name:t+" KazooUI "+o+" Callflow",numbers:[c]};if(d&&(p.name+=" +VM",p.flow.children._={children:{},data:{id:i.id},module:"voicemail"}),f){var v=l.extend(!0,{},p);v.name+=" +CR",v.flow={children:{_:p.flow},data:{action:"start",format:"mp3",time_limit:"600",url:"http://testMonster.com"},module:"record_call"};for(var g=v.flow;g.children&&"_"in g.children;){if("voicemail"===g.children._.module){var w=l.extend(!0,{},g.children._);g.children._={module:"record_call",data:{action:"stop"},children:{_:w}};break}g=g.children._}p=v}u.createCallflow(n,p,s)},createCallflow:function(t,l,n){var a=this;a.callApi({resource:"callflow.create",data:{uiMetadata:a.getKazooUIMetadata(),accountId:t,data:l},success:function(t){n&&n(t.data)}})},createPackage:function(t){var l=this,n=t||"complete",a=function(t){e.success("Kazoo UI account created ("+t.name+")")};l.createKazooUIAccount(function(t){l.createUserAndDevices(t.id,function(e){"complete"!==n?a(t):l.createRingGroups(t.id,e,function(){a(t)})})})},createRingGroups:function(t,l,n){var e=this;a.parallel({ringGroup:function(n){var i=a.util.randomString(4,"1234567890"),o={flow:{children:{},data:{strategy:"simultaneous",timeout:20,endpoints:[{id:l.userVMCallRecording,endpoint_type:"user",timeout:"20",delay:"0"},{id:l.userNoVM,endpoint_type:"user",timeout:"20",delay:"0"}]},module:"ring_group"},name:"Ring Group Callflow",numbers:[i]};e.createCallflow(t,o,n)},nestedRingGroup:function(n){var i={flow:{data:{id:l.userVMCallRecording,timeout:20,can_call_self:!1},module:"user",children:{_:{data:{name:"ringgroupName",endpoints:[{timeout:"20",delay:"0",id:l.userVMCallRecording,endpoint_type:"user"},{timeout:"20",delay:"0",id:l.userNoVM,endpoint_type:"user"}],strategy:"simultaneous",timeout:20},module:"ring_group",children:{}}}}},o=a.util.randomString(4,"1234567890"),s={flow:i.flow,name:"Ring Group Nested Callflow",numbers:[o]};e.createCallflow(t,s,n)}},function(t,l){n&&n(l)})},createUserAndDevices:function(t,l){var n=this,e=0;a.parallel({userVM:function(l){var a=e++;n.createKazooUIUser(t,a,function(e){n.createKazooUIVMBox(t,a,e.id,function(i){n.createEntityKazooUICallflow("user",t,e,i,a,function(t){l&&l(null,t)})})})},userVMCallRecording:function(l){var a=e++;n.createKazooUIUser(t,a,function(e){n.createKazooUIVMBox(t,a,e.id,function(i){n.createEntityKazooUICallflow("user",t,e,i,a,function(){l&&l(null,e.id)},["call_recording"])})})},userNoVM:function(l){var a=e++;n.createKazooUIUser(t,a,function(e){n.createEntityKazooUICallflow("user",t,e,void 0,a,function(){l&&l(null,e.id)})})},userNoVMCallRecording:function(l){var a=e++;n.createKazooUIUser(t,a,function(e){n.createEntityKazooUICallflow("user",t,e,void 0,a,function(t){l&&l(null,t)},["call_recording"])})},deviceVM:function(l){var a=e++;n.createKazooUIUser(t,a,function(e){n.createKazooUIVMBox(t,a,e.id,function(i){n.createKazooUIDevice(t,a,e.id,function(e){n.createEntityKazooUICallflow("device",t,e,i,a,function(t){l&&l(null,t)})})})})},deviceVMCallRecording:function(l){var a=e++;n.createKazooUIUser(t,a,function(e){n.createKazooUIVMBox(t,a,e.id,function(i){n.createKazooUIDevice(t,a,e.id,function(e){n.createEntityKazooUICallflow("device",t,e,i,a,function(t){l&&l(null,t)},["call_recording"])})})})},deviceNoVM:function(l){var a=e++;n.createKazooUIUser(t,a,function(e){n.createKazooUIDevice(t,a,e.id,function(e){n.createEntityKazooUICallflow("device",t,e,void 0,a,function(t){l&&l(null,t)})})})},deviceNoVMCallRecording:function(l){var a=e++;n.createKazooUIUser(t,a,function(e){n.createKazooUIDevice(t,a,e.id,function(e){n.createEntityKazooUICallflow("device",t,e,void 0,a,function(t){l&&l(null,t)},["call_recording"])})})}},function(t,n){l&&l(n)})},tagMigratedAccount:function(t,l){var n=this;t.ui_flags=t.ui_flags||{},t.ui_flags.migrated=!0,n.callApi({resource:"account.update",data:{accountId:t.id,data:t},success:function(t){l&&l(t.data)}})}}}),this.monster=this.monster||{},this.monster.cache=this.monster.cache||{},this.monster.cache.templates=this.monster.cache.templates||{},this.monster.cache.templates.migration=this.monster.cache.templates.migration||{},this.monster.cache.templates.migration._main=this.monster.cache.templates.migration._main||{},this.monster.cache.templates.migration._main["account-details"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i,o,s=t.lambda,r=t.escapeExpression,u=null!=l?l:t.nullContext||{},c=n.helperMissing,d="function";return'<div>\n\t<div class="details-grid">\n\t\t<div class="details-row">\n\t\t\t<div class="row-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountDetails:i)?i.accountName:i,l))+'</div>\n\t\t\t<div class="row-value">'+r((o=null!=(o=n.accountName||(null!=l?l.accountName:l))?o:c,typeof o===d?o.call(u,{name:"accountName",hash:{},data:e}):o))+'</div>\n\t\t</div>\n\t\t<div class="details-row">\n\t\t\t<div class="row-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountDetails:i)?i.accountRealm:i,l))+'</div>\n\t\t\t<div class="row-value">'+r((o=null!=(o=n.accountRealm||(null!=l?l.accountRealm:l))?o:c,typeof o===d?o.call(u,{name:"accountRealm",hash:{},data:e}):o))+'</div>\n\t\t</div>\n\t\t<div class="details-row">\n\t\t\t<div class="row-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountDetails:i)?i.accountId:i,l))+'</div>\n\t\t\t<div class="row-value">'+r((o=null!=(o=n.accountId||(null!=l?l.accountId:l))?o:c,typeof o===d?o.call(u,{name:"accountId",hash:{},data:e}):o))+'</div>\n\t\t</div>\n\t\t<div class="details-row">\n\t\t\t<div class="row-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountDetails:i)?i.userCount:i,l))+'</div>\n\t\t\t<div class="row-value">'+r((o=null!=(o=n.userCount||(null!=l?l.userCount:l))?o:c,typeof o===d?o.call(u,{name:"userCount",hash:{},data:e}):o))+'</div>\n\t\t</div>\n\t\t<div class="details-row">\n\t\t\t<div class="row-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountDetails:i)?i.voicemailCount:i,l))+'</div>\n\t\t\t<div class="row-value">'+r((o=null!=(o=n.voicemailCount||(null!=l?l.voicemailCount:l))?o:c,typeof o===d?o.call(u,{name:"voicemailCount",hash:{},data:e}):o))+'</div>\n\t\t</div>\n\t\t<div class="details-row">\n\t\t\t<div class="row-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountDetails:i)?i.deviceCount:i,l))+'</div>\n\t\t\t<div class="row-value">'+r((o=null!=(o=n.deviceCount||(null!=l?l.deviceCount:l))?o:c,typeof o===d?o.call(u,{name:"deviceCount",hash:{},data:e}):o))+'</div>\n\t\t</div>\n\t\t<div class="details-row">\n\t\t\t<div class="row-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountDetails:i)?i.groupCount:i,l))+'</div>\n\t\t\t<div class="row-value">'+r((o=null!=(o=n.groupCount||(null!=l?l.groupCount:l))?o:c,typeof o===d?o.call(u,{name:"groupCount",hash:{},data:e}):o))+'</div>\n\t\t</div>\n\t\t<div class="details-row">\n\t\t\t<div class="row-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountDetails:i)?i.callflowCount:i,l))+'</div>\n\t\t\t<div class="row-value">'+r((o=null!=(o=n.callflowCount||(null!=l?l.callflowCount:l))?o:c,typeof o===d?o.call(u,{name:"callflowCount",hash:{},data:e}):o))+'</div>\n\t\t</div>\n\t</div>\n\t<div class="details-actions clearfix">\n\t\t<div class="action-bar pull-right">\n\t\t\t<button class="monster-button cancel-details">'+r(s(null!=(i=null!=l?l.i18n:l)?i.cancel:i,l))+'</button>\n\t\t\t<button class="monster-button-primary start-migration">'+r(s(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountDetails:i)?i.startMigrationButton:i,l))+"</button>\n\t\t</div>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.migration._main.app=Handlebars.template({1:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t\t\t<p>\n\t\t\t\t\t<span class="help-box-title">'+s(o(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.welcomeInstructions:i)?i.helpTitle:i,l))+"</span>\n\t\t\t\t\t<span>"+s(o(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.welcomeInstructions:i)?i.helpText:i,l))+"</span>\n\t\t\t\t</p>\n"},compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i,o,s,r=t.lambda,u=t.escapeExpression,c='<div id="migration_container">\n\t<div class="account-tree-container">\n\t\t<div class="account-tree-header">\n\t\t\t<button class="monster-button-secondary collapse-all">'+u(r(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountTree:i)?i.collapseAll:i,l))+'</button>\n\t\t\t<button class="monster-button-secondary expand-all">'+u(r(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountTree:i)?i.expandAll:i,l))+'</button>\n\t\t</div>\n\t\t<div class="account-tree-content"></div>\n\t</div>\n\t<div class="migration-details">\n\t\t<div class="migration-instructions">\n\t\t\t<div class="instructions-title">'+u(r(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.welcomeInstructions:i)?i.title:i,l))+'</div>\n\t\t\t<div class="instructions-subtitle">'+u(r(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.welcomeInstructions:i)?i.subtitle:i,l))+'</div>\n\t\t\t<div class="instructions-content">'+u(r(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.welcomeInstructions:i)?i.content:i,l))+"</div>\n";return o=null!=(o=n.monsterText||(null!=l?l.monsterText:l))?o:n.helperMissing,s={name:"monsterText",hash:{},fn:t.program(1,e,0),inverse:t.noop,data:e},i="function"==typeof o?o.call(null!=l?l:t.nullContext||{},s):o,n.monsterText||(i=n.blockHelperMissing.call(l,i,s)),null!=i&&(c+=i),c+'\t\t</div>\n\t\t<div class="account-details"></div>\n\t</div>\n</div>'},useData:!0}),this.monster.cache.templates.migration._main["tree-node"]=Handlebars.template({1:function(t,l,n,a,e){var i,o,s=null!=l?l:t.nullContext||{},r=n.helperMissing,u=t.escapeExpression;return'<div class="account-tree-node">\n\t<div class="account-line">\n\t\t<i class="expand-link fa fa-plus-square"></i>\n\t\t<i class="collapse-link fa fa-minus-square"></i>\n\t\t<div class="account-link" data-id="'+u((o=null!=(o=n.id||(null!=l?l.id:l))?o:r,"function"==typeof o?o.call(s,{name:"id",hash:{},data:e}):o))+'">\n\t\t\t<div class="account-name">\n'+(null!=(i=n.if.call(s,null!=(i=null!=l?l.ui_flags:l)?i.migrated:i,{name:"if",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t"+u((o=null!=(o=n.name||(null!=l?l.name:l))?o:r,"function"==typeof o?o.call(s,{name:"name",hash:{},data:e}):o))+'\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="account-children"></div>\n</div>\n'},2:function(t,l,n,a,e){var i;return'\t\t\t\t\t<i class="fa fa-check monster-green migrated-check" data-original-title="'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.accountTree:i)?i.alreadyMigrated:i,l))+'" data-placement="top" data-toggle="tooltip"></i>\n'},4:function(t,l,n,a,e){var i,o,s=null!=l?l:t.nullContext||{},r=n.helperMissing,u=t.escapeExpression;return'<div class="account-tree-leaf">\n\t<div class="account-line">\n\t\t<span class="no-expand-placeholder"></span>\n\t\t<div class="account-link" data-id="'+u((o=null!=(o=n.id||(null!=l?l.id:l))?o:r,"function"==typeof o?o.call(s,{name:"id",hash:{},data:e}):o))+'">\n\t\t\t<div class="account-name">\n'+(null!=(i=n.if.call(s,null!=(i=null!=l?l.ui_flags:l)?i.migrated:i,{name:"if",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t"+u((o=null!=(o=n.name||(null!=l?l.name:l))?o:r,"function"==typeof o?o.call(s,{name:"name",hash:{},data:e}):o))+"\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i;return null!=(i=n.if.call(null!=l?l:t.nullContext||{},null!=l?l.children:l,{name:"if",hash:{},fn:t.program(1,e,0),inverse:t.program(4,e,0),data:e}))?i:""},useData:!0}),this.monster.cache.templates.migration._main["wizard-completion-view"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'<div class="wizard-completion-view">\n\t<div class="migration-processing">\n\t\t<div class="header">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.completionView:i)?i.processingHeader:i,l))+'</div>\n\t\t<div class="progress-container">\n\t\t\t<div class="progress-title"></div>\n\t\t\t<div class="progress-bar">\n\t\t\t\t<div class="inner-progress-bar animated"></div>\n\t\t\t</div>\n\t\t\t<div class="random-message"></div>\n\t\t</div>\n\t</div>\n\t<div class="migration-complete">\n\t\t<div class="header">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.completionView:i)?i.completeHeader:i,l))+'</div>\n\t\t<div class="content">\n\t\t\t<p>'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.completionView:i)?i.completeInfo:i)?i.line1:i,l))+"</p>\n\t\t\t<p>\n\t\t\t\t<span>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.completionView:i)?i.completeInfo:i)?i.line2:i,l))+'</span>\n\t\t\t\t<a target="_blank" href="https://2600hz.desk.com/customer/portal/articles/1936300-best-practices---setting-up-a-main-number-and-office-hours-strategy-for-your-office?b_id=8707">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.completionView:i)?i.completeInfo:i)?i.link:i,l))+'</a>\n\t\t\t</p>\n\t\t</div>\n\t\t<div class="actions clearfix">\n\t\t\t<div class="action-bar pull-right">\n\t\t\t\t<button class="monster-button terminate-migration">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.completionView:i)?i.backButton:i,l))+"</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.migration._main["wizard-layout"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'<div id="migration_wizard" class="wizard">\n\t<div class="wizard-top-bar" data-max_step="5">\n\t\t<div class="steps-wrapper">\n\t\t\t<div class="step active" data-step="1">\n\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t<i class="icon-telicon-seats"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="step-title">\n\t\t\t\t\t'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepTitles:i)?i.userStep:i,l))+'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="step" data-step="2">\n\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t<i class="fa fa-users"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="step-title">\n\t\t\t\t\t'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepTitles:i)?i.groupStep:i,l))+'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="step" data-step="3">\n\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t<i class="icon-telicon-fax"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="step-title">\n\t\t\t\t\t'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepTitles:i)?i.faxingStep:i,l))+'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="step" data-step="4">\n\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t<i class="icon-telicon-home"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="step-title">\n\t\t\t\t\t'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepTitles:i)?i.mainNumberStep:i,l))+'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="step" data-step="5">\n\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t<i class="fa fa-file-text-o"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="step-title">\n\t\t\t\t\t'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepTitles:i)?i.summaryStep:i,l))+'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="wizard-content-wrapper">\n\t\t<div class="wizard-content">\n\t\t\t<div class="wizard-content-step wizard-step-users" data-step="1"></div>\n\t\t\t<div class="wizard-content-step wizard-step-groups" data-step="2"></div>\n\t\t\t<div class="wizard-content-step wizard-step-faxing" data-step="3"></div>\n\t\t\t<div class="wizard-content-step wizard-step-mainnumber" data-step="4"></div>\n\t\t\t<div class="wizard-content-step wizard-step-summary" data-step="5"></div>\n\t\t\t<div class="wizard-buttons">\n\t\t\t\t<button type="button" class="cancel monster-button pull-left"><i class="fa fa-angle-double-left"></i>'+s(o(null!=(i=null!=l?l.i18n:l)?i.cancel:i,l))+'</button>\n\t\t\t\t<button type="button" class="prev-step monster-button-secondary pull-left"><i class="fa fa-angle-double-left"></i>'+s(o(null!=(i=null!=l?l.i18n:l)?i.previous:i,l))+'</button>\n\t\t\t\t<button type="button" class="submit-btn monster-button-success"><i class="fa fa-check"></i>'+s(o(null!=(i=null!=l?l.i18n:l)?i.submit:i,l))+'</button>\n\t\t\t\t<button type="button" class="next-step monster-button-secondary">'+s(o(null!=(i=null!=l?l.i18n:l)?i.next:i,l))+'<i class="fa fa-angle-double-right"></i></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'},useData:!0}),this.monster.cache.templates.migration._main["wizard-step-faxing"]=Handlebars.template({1:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t\t<div class="callflow-section-title">\n\t\t\t\t<h2>'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.header:i,l))+"</h2>\n\t\t\t\t<h4>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.subHeader:i,l))+'</h4>\n\t\t\t</div>\n\t\t\t<div class="callflow-section-list">\n\t\t\t\t<div class="callflow-list">\n\t\t\t\t\t<div class="callflow-line callflow-header">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.tableHeaders:i)?i.name:i,l))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="callflow-user">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.tableHeaders:i)?i.user:i,l))+'</div>\n\t\t\t\t\t\t<div class="callflow-migration">\n\t\t\t\t\t\t\t<div>'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.tableHeaders:i)?i.migrate:i,l))+'</div>\n\t\t\t\t\t\t\t<a href="javascript:void(0);" class="migrate-all">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.tableHeaders:i)?i.migrateAll:i,l))+'</a> / <a href="javascript:void(0);" class="migrate-none">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.tableHeaders:i)?i.migrateNone:i,l))+"</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.each.call(null!=l?l:t.nullContext||{},null!=l?l.faxingCallflows:l,{name:"each",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t</div>\n\t\t\t</div>\n"},2:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t<div class="callflow-line">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=l?l.name:l,l))+'</div>\n\t\t\t\t\t\t\t<div class="number">'+s(o(null!=l?l.numbers:l,l))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="callflow-user">'+s(o(null!=l?l.userName:l,l))+'</div>\n\t\t\t\t\t\t<div class="callflow-migration">'+(null!=(i=(n.monsterCheckbox||l&&l.monsterCheckbox||n.helperMissing).call(null!=l?l:t.nullContext||{},"large-checkbox",{name:"monsterCheckbox",hash:{},fn:t.program(3,e,0),inverse:t.noop,data:e}))?i:"")+"</div>\n\t\t\t\t\t</div>\n"},3:function(t,l,n,a,e){return'<input type="checkbox" name="selectedCallflows[]" value="'+t.escapeExpression(t.lambda(null!=l?l.callflowId:l,l))+'" checked />'},5:function(t,l,n,a,e){var i;return"\t\t\t<h2>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.emptyList:i,l))+"</h2>\n"},compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i;return'<div>\n\t<form id="callflow_faxing_migration_form">\n\t\t<div class="callflow-section">\n'+(null!=(i=n.if.call(null!=l?l:t.nullContext||{},null!=l?l.faxingCallflows:l,{name:"if",hash:{},fn:t.program(1,e,0),inverse:t.program(5,e,0),data:e}))?i:"")+"\t\t</div>\n\t</form>\n</div>"},useData:!0}),this.monster.cache.templates.migration._main["wizard-step-groups"]=Handlebars.template({1:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t\t<div class="callflow-section-title">\n\t\t\t\t<h2>'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.header:i,l))+"</h2>\n\t\t\t\t<h4>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.subHeader:i,l))+'</h4>\n\t\t\t</div>\n\t\t\t<div class="callflow-section-list">\n\t\t\t\t<div class="callflow-list">\n\t\t\t\t\t<div class="callflow-line callflow-header">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.tableHeaders:i)?i.name:i,l))+"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.tableHeaders:i)?i.users:i,l))+"</div>\n\t\t\t\t\t\t<div>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.tableHeaders:i)?i.usedBy:i,l))+'</div>\n\t\t\t\t\t\t<div class="callflow-migration">\n\t\t\t\t\t\t\t<div>'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.tableHeaders:i)?i.migrate:i,l))+'</div>\n\t\t\t\t\t\t\t<a href="javascript:void(0);" class="migrate-all">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.tableHeaders:i)?i.migrateAll:i,l))+'</a> / <a href="javascript:void(0);" class="migrate-none">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.tableHeaders:i)?i.migrateNone:i,l))+"</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.each.call(null!=l?l:t.nullContext||{},null!=l?l.groupCallflows:l,{name:"each",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t</div>\n\t\t\t</div>\n"},2:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression,r=null!=l?l:t.nullContext||{};return'\t\t\t\t\t<div class="callflow-line">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=l?l.name:l,l))+'</div>\n\t\t\t\t\t\t\t<div class="number">'+s(o(null!=l?l.numbers:l,l))+"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n"+(null!=(i=n.each.call(r,null!=l?l.users:l,{name:"each",hash:{},fn:t.program(3,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n"+(null!=(i=n.each.call(r,null!=l?l.affectedCallflows:l,{name:"each",hash:{},fn:t.program(5,e,0),inverse:t.program(8,e,0),data:e}))?i:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="callflow-migration">'+(null!=(i=(n.monsterCheckbox||l&&l.monsterCheckbox||n.helperMissing).call(r,"large-checkbox",{name:"monsterCheckbox",hash:{},fn:t.program(10,e,0),inverse:t.noop,data:e}))?i:"")+"</div>\n\t\t\t\t\t</div>\n"},3:function(t,l,n,a,e){return"\t\t\t\t\t\t\t<div>"+t.escapeExpression(t.lambda(l,l))+"</div>\n"},5:function(t,l,n,a,e){var i,o,s=null!=l?l:t.nullContext||{};return(null!=(i=n.if.call(s,null!=l?l.name:l,{name:"if",hash:{},fn:t.program(6,e,0),inverse:t.noop,data:e}))?i:"")+'\t\t\t\t\t\t\t\t<span class="number">'+t.escapeExpression((o=null!=(o=n.numbers||(null!=l?l.numbers:l))?o:n.helperMissing,"function"==typeof o?o.call(s,{name:"numbers",hash:{},data:e}):o))+"</span>\n"},6:function(t,l,n,a,e){var i;return'\t\t\t\t\t\t\t\t<span class="name">'+t.escapeExpression((i=null!=(i=n.name||(null!=l?l.name:l))?i:n.helperMissing,"function"==typeof i?i.call(null!=l?l:t.nullContext||{},{name:"name",hash:{},data:e}):i))+" - </span>\n"},8:function(t,l,n,a,e){return'\t\t\t\t\t\t\t\t<span class="name">- None -</span>\n'},10:function(t,l,n,a,e){var i;return'<input type="checkbox" name="selectedGroupCallflows[]" value="'+t.escapeExpression((i=null!=(i=n.key||e&&e.key)?i:n.helperMissing,"function"==typeof i?i.call(null!=l?l:t.nullContext||{},{name:"key",hash:{},data:e}):i))+'" checked />'},12:function(t,l,n,a,e){var i;return"\t\t\t<h2>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.emptyList:i,l))+"</h2>\n"},compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i;return'<div>\n\t<form id="callflow_group_migration_form">\n\t\t<div class="callflow-section">\n'+(null!=(i=n.if.call(null!=l?l:t.nullContext||{},null!=l?l.groupCallflows:l,{name:"if",hash:{},fn:t.program(1,e,0),inverse:t.program(12,e,0),data:e}))?i:"")+"\t\t</div>\n\t</form>\n</div>"},useData:!0}),this.monster.cache.templates.migration._main["wizard-step-mainnumber"]=Handlebars.template({1:function(t,l,n,a,e){var i,o,s,r=t.lambda,u=t.escapeExpression,c=null!=l?l:t.nullContext||{},d=n.helperMissing,m=n.blockHelperMissing,f='\t\t\t<div class="callflow-section-title">\n\t\t\t\t<h2>'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepMainNumber:i)?i.header:i,l))+"</h2>\n";return o=null!=(o=n.monsterText||(null!=l?l.monsterText:l))?o:d,s={name:"monsterText",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e},i="function"==typeof o?o.call(c,s):o,n.monsterText||(i=m.call(l,i,s)),null!=i&&(f+=i),f+='\t\t\t</div>\n\t\t\t<div class="callflow-section-content">\n\t\t\t\t<div class="callflow-list">\n\t\t\t\t\t<label class="callflow-element">\n\t\t\t\t\t\t',o=null!=(o=n.monsterRadio||(null!=l?l.monsterRadio:l))?o:d,s={name:"monsterRadio",hash:{},fn:t.program(4,e,0),inverse:t.noop,data:e},i="function"==typeof o?o.call(c,s):o,n.monsterRadio||(i=m.call(l,i,s)),null!=i&&(f+=i),f+'\n\t\t\t\t\t\t<div class="callflow-numbers">'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepMainNumber:i)?i.skipMainNumber:i,l))+"</div>\n\t\t\t\t\t</label>\n"+(null!=(i=n.each.call(c,null!=l?l.callflows:l,{name:"each",hash:{},fn:t.program(6,e,0),inverse:t.noop,data:e}))?i:"")+'\t\t\t\t</div>\n\t\t\t\t<div class="main-callflow-detail">\n\t\t\t\t\t<div class="numbers"></div>\n\t\t\t\t\t<div class="title">'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepMainNumber:i)?i.incomingCall:i,l))+'</div>\n\t\t\t\t\t<div class="arrow-icon"><i class="fa fa-arrow-down fa-lg"></i></div>\n\t\t\t\t\t<div class="entity-select">\n\t\t\t\t\t\t<div class="title">N/A</div>\n\t\t\t\t\t\t<select name="firstNode">\n'+(null!=(i=n.each.call(c,null!=l?l.callEntities:l,{name:"each",hash:{},fn:t.program(11,e,0),inverse:t.noop,data:e}))?i:"")+'\t\t\t\t\t\t\t<optgroup label="'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepMainNumber:i)?i.callEntities:i)?i.other:i,l))+'">\n\t\t\t\t\t\t\t\t<option value="none" data-module="none">'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepMainNumber:i)?i.skipToVoicemail:i,l))+'</option>\n\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="arrow-icon"><i class="fa fa-arrow-down fa-lg"></i></div>\n\t\t\t\t\t<div class="voicemail-select">\n\t\t\t\t\t\t<div class="title">'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepMainNumber:i)?i.callEntities:i)?i.voicemail:i,l))+'</div>\n\t\t\t\t\t\t<select name="secondNode">\n'+(null!=(i=n.each.call(c,null!=l?l.voicemails:l,{name:"each",hash:{},fn:t.program(14,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n"},2:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return"\t\t\t\t\t<div>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepMainNumber:i)?i.headerHelp:i)?i.line1:i,l))+"</div>\n\t\t\t\t\t<div>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepMainNumber:i)?i.headerHelp:i)?i.line2:i,l))+"</div>\n"},4:function(t,l,n,a,e){return'<input type="radio" name="mainCallflowId" value="none" checked />'},6:function(t,l,n,a,e){var i,o,s,r=null!=l?l:t.nullContext||{},u=n.helperMissing,c='\t\t\t\t\t<label class="callflow-element">\n\t\t\t\t\t\t';return o=null!=(o=n.monsterRadio||(null!=l?l.monsterRadio:l))?o:u,s={name:"monsterRadio",hash:{},fn:t.program(7,e,0),inverse:t.noop,data:e},i="function"==typeof o?o.call(r,s):o,n.monsterRadio||(i=n.blockHelperMissing.call(l,i,s)),null!=i&&(c+=i),c+"\n\t\t\t\t\t\t"+(null!=(i=n.if.call(r,null!=l?l.name:l,{name:"if",hash:{},fn:t.program(9,e,0),inverse:t.noop,data:e}))?i:"")+'\n\t\t\t\t\t\t<div class="callflow-numbers">'+t.escapeExpression((o=null!=(o=n.numbers||(null!=l?l.numbers:l))?o:u,"function"==typeof o?o.call(r,{name:"numbers",hash:{},data:e}):o))+"</div>\n\t\t\t\t\t</label>\n"},7:function(t,l,n,a,e){var i;return'<input type="radio" name="mainCallflowId" value="'+t.escapeExpression((i=null!=(i=n.id||(null!=l?l.id:l))?i:n.helperMissing,"function"==typeof i?i.call(null!=l?l:t.nullContext||{},{name:"id",hash:{},data:e}):i))+'" />'},9:function(t,l,n,a,e){var i;return'<div class="callflow-name">'+t.escapeExpression((i=null!=(i=n.name||(null!=l?l.name:l))?i:n.helperMissing,"function"==typeof i?i.call(null!=l?l:t.nullContext||{},{name:"name",hash:{},data:e}):i))+"</div>"},11:function(t,l,n,a,e){var i,o,s=null!=l?l:t.nullContext||{};return'\t\t\t\t\t\t\t\t<optgroup label="'+t.escapeExpression((o=null!=(o=n.groupName||(null!=l?l.groupName:l))?o:n.helperMissing,"function"==typeof o?o.call(s,{name:"groupName",hash:{},data:e}):o))+'">\n'+(null!=(i=n.each.call(s,null!=l?l.entities:l,{name:"each",hash:{},fn:t.program(12,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t\t\t\t\t</optgroup>\n"},12:function(t,l,n,a,e){var i,o=null!=l?l:t.nullContext||{},s=n.helperMissing,r=t.escapeExpression;return'\t\t\t\t\t\t\t\t\t\t<option value="'+r((i=null!=(i=n.id||(null!=l?l.id:l))?i:s,"function"==typeof i?i.call(o,{name:"id",hash:{},data:e}):i))+'" data-module="'+r((i=null!=(i=n.module||(null!=l?l.module:l))?i:s,"function"==typeof i?i.call(o,{name:"module",hash:{},data:e}):i))+'">'+r((i=null!=(i=n.name||(null!=l?l.name:l))?i:s,"function"==typeof i?i.call(o,{name:"name",hash:{},data:e}):i))+"</option>\n"},14:function(t,l,n,a,e){var i,o=null!=l?l:t.nullContext||{},s=n.helperMissing,r=t.escapeExpression
;return'\t\t\t\t\t\t\t\t<option value="'+r((i=null!=(i=n.id||(null!=l?l.id:l))?i:s,"function"==typeof i?i.call(o,{name:"id",hash:{},data:e}):i))+'" data-module="voicemail">'+r((i=null!=(i=n.name||(null!=l?l.name:l))?i:s,"function"==typeof i?i.call(o,{name:"name",hash:{},data:e}):i))+"</option>\n"},16:function(t,l,n,a,e){var i;return'\t\t\t<div class="callflow-section-title">\n\t\t\t\t<h2>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepMainNumber:i)?i.existingMainNumber:i,l))+'</h2>\n\t\t\t</div>\n\t\t\t<input type="hidden" name="mainCallflowId" value="none" />\n'},compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i;return'<div>\n\t<form id="callflow_mainnumber_migration_form">\n\t\t<div class="callflow-section">\n'+(null!=(i=n.unless.call(null!=l?l:t.nullContext||{},null!=l?l.hasMainNumber:l,{name:"unless",hash:{},fn:t.program(1,e,0),inverse:t.program(16,e,0),data:e}))?i:"")+"\t\t</div>\n\t</form>\n</div>"},useData:!0}),this.monster.cache.templates.migration._main["wizard-step-summary"]=Handlebars.template({1:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t\t\t<div class="callflow-list">\n\t\t\t\t\t<div class="callflow-line callflow-header">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.tableHeaders:i)?i.name:i,l))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="callflow-user">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.tableHeaders:i)?i.user:i,l))+"</div>\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.each.call(null!=l?l:t.nullContext||{},null!=l?l.userCallflows:l,{name:"each",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t</div>\n"},2:function(t,l,n,a,e){var i=t.lambda,o=t.escapeExpression;return'\t\t\t\t\t<div class="callflow-line">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+o(i(null!=l?l.name:l,l))+'</div>\n\t\t\t\t\t\t\t<div class="number">'+o(i(null!=l?l.numbers:l,l))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="callflow-user">'+o(i(null!=l?l.userName:l,l))+"</div>\n\t\t\t\t\t</div>\n"},4:function(t,l,n,a,e){var i;return'\t\t\t\t<div class="empty-list">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.noUserSelected:i,l))+"</div>\n"},6:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t\t\t<div class="callflow-list">\n\t\t\t\t\t<div class="callflow-line callflow-header">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.tableHeaders:i)?i.name:i,l))+"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.tableHeaders:i)?i.users:i,l))+"</div>\n\t\t\t\t\t\t<div>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepGroups:i)?i.tableHeaders:i)?i.usedBy:i,l))+"</div>\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.each.call(null!=l?l:t.nullContext||{},null!=l?l.groupCallflows:l,{name:"each",hash:{},fn:t.program(7,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t</div>\n"},7:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression,r=null!=l?l:t.nullContext||{};return'\t\t\t\t\t<div class="callflow-line">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=l?l.name:l,l))+'</div>\n\t\t\t\t\t\t\t<div class="number">'+s(o(null!=l?l.numbers:l,l))+"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n"+(null!=(i=n.each.call(r,null!=l?l.users:l,{name:"each",hash:{},fn:t.program(8,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n"+(null!=(i=n.each.call(r,null!=l?l.affectedCallflows:l,{name:"each",hash:{},fn:t.program(10,e,0),inverse:t.program(13,e,0),data:e}))?i:"")+"\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n"},8:function(t,l,n,a,e){return"\t\t\t\t\t\t\t<div>"+t.escapeExpression(t.lambda(l,l))+"</div>\n"},10:function(t,l,n,a,e){var i,o,s=null!=l?l:t.nullContext||{};return(null!=(i=n.if.call(s,null!=l?l.name:l,{name:"if",hash:{},fn:t.program(11,e,0),inverse:t.noop,data:e}))?i:"")+'\t\t\t\t\t\t\t\t<span class="number">'+t.escapeExpression((o=null!=(o=n.numbers||(null!=l?l.numbers:l))?o:n.helperMissing,"function"==typeof o?o.call(s,{name:"numbers",hash:{},data:e}):o))+"</span>\n"},11:function(t,l,n,a,e){var i;return'\t\t\t\t\t\t\t\t<span class="name">'+t.escapeExpression((i=null!=(i=n.name||(null!=l?l.name:l))?i:n.helperMissing,"function"==typeof i?i.call(null!=l?l:t.nullContext||{},{name:"name",hash:{},data:e}):i))+" - </span>\n"},13:function(t,l,n,a,e){return'\t\t\t\t\t\t\t\t<span class="name">- None -</span>\n'},15:function(t,l,n,a,e){var i;return'\t\t\t\t<div class="empty-list">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.noFaxboxSelected:i,l))+"</div>\n"},17:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t\t\t<div class="callflow-list">\n\t\t\t\t\t<div class="callflow-line callflow-header">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.tableHeaders:i)?i.name:i,l))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="callflow-user">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepFaxing:i)?i.tableHeaders:i)?i.user:i,l))+"</div>\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.each.call(null!=l?l:t.nullContext||{},null!=l?l.faxingCallflows:l,{name:"each",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t</div>\n"},19:function(t,l,n,a,e){var i;return'\t\t\t<div class="callflow-section-list">\n\t\t\t\t<div class="empty-list">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.mainCallflowSkip:i,l))+"</div>\n\t\t\t</div>\n"},21:function(t,l,n,a,e){return'\t\t\t<div class="main-callflow-content"></div>\n'},23:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t<p>\n\t\t\t<span class="help-box-title">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.helpText:i)?i.title1:i,l))+"</span>\n\t\t\t<span>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.helpText:i)?i.line1:i,l))+"</span>\n\t\t</p>\n\t\t<p>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.helpText:i)?i.line2:i,l))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i,o,s,r=t.lambda,u=t.escapeExpression,c=null!=l?l:t.nullContext||{},d="<div>\n\t<h1>"+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.header:i,l))+'</h1>\n\t<form id="migration_summary_form">\n\t\t<div class="callflow-section">\n\t\t\t<div class="callflow-section-title">\n\t\t\t\t<h2>'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.userCallflowsHeader:i,l))+'</h2>\n\t\t\t</div>\n\t\t\t<div class="callflow-section-list">\n'+(null!=(i=n.if.call(c,null!=l?l.userCallflows:l,{name:"if",hash:{},fn:t.program(1,e,0),inverse:t.program(4,e,0),data:e}))?i:"")+'\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="callflow-section">\n\t\t\t<div class="callflow-section-title">\n\t\t\t\t<h2>'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.groupCallflowsHeader:i,l))+'</h2>\n\t\t\t</div>\n\t\t\t<div class="callflow-section-list">\n'+(null!=(i=n.if.call(c,null!=l?l.groupCallflows:l,{name:"if",hash:{},fn:t.program(6,e,0),inverse:t.program(15,e,0),data:e}))?i:"")+'\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="callflow-section">\n\t\t\t<div class="callflow-section-title">\n\t\t\t\t<h2>'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.faxingCallflowsHeader:i,l))+'</h2>\n\t\t\t</div>\n\t\t\t<div class="callflow-section-list">\n'+(null!=(i=n.if.call(c,null!=l?l.faxingCallflows:l,{name:"if",hash:{},fn:t.program(17,e,0),inverse:t.program(15,e,0),data:e}))?i:"")+'\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="callflow-section">\n\t\t\t<div class="callflow-section-title">\n\t\t\t\t<h2>'+u(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepSummary:i)?i.mainCallflowHeader:i,l))+"</h2>\n\t\t\t</div>\n"+(null!=(i=n.if.call(c,null!=l?l.skipMainNumber:l,{name:"if",hash:{},fn:t.program(19,e,0),inverse:t.program(21,e,0),data:e}))?i:"")+"\t\t</div>\n\t</form>\n";return o=null!=(o=n.monsterText||(null!=l?l.monsterText:l))?o:n.helperMissing,s={name:"monsterText",hash:{},fn:t.program(23,e,0),inverse:t.noop,data:e},i="function"==typeof o?o.call(c,s):o,n.monsterText||(i=n.blockHelperMissing.call(l,i,s)),null!=i&&(d+=i),d+"</div>"},useData:!0}),this.monster.cache.templates.migration._main["wizard-step-users"]=Handlebars.template({1:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t\t<div class="callflow-section-title">\n\t\t\t\t<h2>'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.header:i,l))+"</h2>\n\t\t\t\t<h4>"+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.subHeader:i,l))+'</h4>\n\t\t\t</div>\n\t\t\t<div class="callflow-section-list">\n\t\t\t\t<div class="callflow-list">\n\t\t\t\t\t<div class="callflow-line callflow-header">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.tableHeaders:i)?i.name:i,l))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="callflow-user">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.tableHeaders:i)?i.user:i,l))+'</div>\n\t\t\t\t\t\t<div class="callflow-migration">\n\t\t\t\t\t\t\t<div>'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.tableHeaders:i)?i.migrate:i,l))+'</div>\n\t\t\t\t\t\t\t<a href="javascript:void(0);" class="migrate-all">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.tableHeaders:i)?i.migrateAll:i,l))+'</a> / <a href="javascript:void(0);" class="migrate-none">'+s(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.tableHeaders:i)?i.migrateNone:i,l))+"</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.each.call(null!=l?l:t.nullContext||{},null!=l?l.userCallflows:l,{name:"each",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e}))?i:"")+"\t\t\t\t</div>\n\t\t\t</div>\n"},2:function(t,l,n,a,e){var i,o=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t<div class="callflow-line">\n\t\t\t\t\t\t<div class="callflow-title">\n\t\t\t\t\t\t\t<div class="name">'+s(o(null!=l?l.name:l,l))+'</div>\n\t\t\t\t\t\t\t<div class="number">'+s(o(null!=l?l.numbers:l,l))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="callflow-user">'+s(o(null!=l?l.userName:l,l))+'</div>\n\t\t\t\t\t\t<div class="callflow-migration">'+(null!=(i=(n.monsterCheckbox||l&&l.monsterCheckbox||n.helperMissing).call(null!=l?l:t.nullContext||{},"large-checkbox",{name:"monsterCheckbox",hash:{},fn:t.program(3,e,0),inverse:t.noop,data:e}))?i:"")+"</div>\n\t\t\t\t\t</div>\n"},3:function(t,l,n,a,e){return'<input type="checkbox" name="selectedCallflows[]" value="'+t.escapeExpression(t.lambda(null!=l?l.callflowId:l,l))+'" checked />'},5:function(t,l,n,a,e){var i;return"\t\t\t<h2>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=l?l.i18n:l)?i.migration:i)?i.migrationWizard:i)?i.stepUsers:i)?i.emptyList:i,l))+"</h2>\n"},compiler:[7,">= 4.0.0"],main:function(t,l,n,a,e){var i;return'<div>\n\t<form id="callflow_user_migration_form">\n\t\t<div class="callflow-section">\n'+(null!=(i=n.if.call(null!=l?l:t.nullContext||{},null!=l?l.userCallflows:l,{name:"if",hash:{},fn:t.program(1,e,0),inverse:t.program(5,e,0),data:e}))?i:"")+"\t\t</div>\n\t</form>\n</div>"},useData:!0});